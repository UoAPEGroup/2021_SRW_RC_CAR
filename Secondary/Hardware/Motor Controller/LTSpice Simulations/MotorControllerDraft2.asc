Version 4
SHEET 1 2228 1380
WIRE 432 32 64 32
WIRE 848 32 432 32
WIRE 1760 32 1712 32
WIRE 1888 32 1824 32
WIRE 432 64 432 32
WIRE 848 64 848 32
WIRE 1712 128 1712 32
WIRE 1760 128 1712 128
WIRE 1888 128 1888 32
WIRE 1888 128 1840 128
WIRE 64 144 64 32
WIRE 288 144 272 144
WIRE 384 144 368 144
WIRE 704 144 688 144
WIRE 800 144 784 144
WIRE 432 192 432 160
WIRE 512 192 432 192
WIRE 848 192 848 160
WIRE 928 192 848 192
WIRE 1520 192 1280 192
WIRE 1712 192 1712 128
WIRE 1712 192 1600 192
WIRE 432 208 432 192
WIRE 432 208 384 208
WIRE 848 208 848 192
WIRE 848 208 800 208
WIRE 432 224 432 208
WIRE 848 224 848 208
WIRE 1712 240 1712 192
WIRE 1760 240 1712 240
WIRE 1888 256 1888 128
WIRE 1888 256 1824 256
WIRE 2048 256 1888 256
WIRE 1760 272 1712 272
WIRE 288 304 272 304
WIRE 384 304 368 304
WIRE 704 304 688 304
WIRE 800 304 784 304
WIRE 64 368 64 224
WIRE 432 368 432 320
WIRE 432 368 64 368
WIRE 848 368 848 320
WIRE 848 368 432 368
WIRE 432 384 432 368
WIRE 1504 384 1264 384
WIRE 1712 384 1712 272
WIRE 1712 384 1584 384
WIRE 1792 384 1712 384
WIRE 1712 432 1712 384
WIRE 1792 432 1792 384
WIRE 1712 544 1712 512
WIRE 1792 544 1792 496
WIRE -144 720 -160 720
WIRE -32 720 -144 720
WIRE 64 720 32 720
WIRE 112 720 64 720
WIRE 320 720 176 720
WIRE 480 720 464 720
WIRE 592 720 480 720
WIRE 688 720 656 720
WIRE 736 720 688 720
WIRE 944 720 800 720
WIRE 64 768 64 720
WIRE 688 768 688 720
WIRE -144 832 -144 720
WIRE -64 832 -144 832
WIRE 208 832 192 832
WIRE 480 832 480 720
WIRE 560 832 480 832
WIRE 832 832 816 832
WIRE -64 912 -176 912
WIRE 320 912 320 720
WIRE 320 912 192 912
WIRE 352 912 320 912
WIRE 560 912 448 912
WIRE 944 912 944 720
WIRE 944 912 816 912
WIRE 976 912 944 912
WIRE -64 928 -64 912
WIRE -176 992 -176 912
WIRE -160 992 -176 992
WIRE -80 992 -96 992
WIRE -64 992 -80 992
WIRE 208 992 192 992
WIRE 448 992 448 912
WIRE 464 992 448 992
WIRE 544 992 528 992
WIRE 560 992 544 992
WIRE 832 992 816 992
WIRE -80 1008 -80 992
WIRE 544 1008 544 992
WIRE -176 1024 -176 992
WIRE 448 1024 448 992
WIRE 64 1072 64 1056
WIRE 688 1072 688 1056
FLAG 272 144 drive1H
FLAG 272 304 drive1L
FLAG 688 144 drive2H
FLAG 688 304 drive2L
FLAG 208 832 drive1H
FLAG 208 992 drive1L
FLAG 832 832 drive2H
FLAG 832 992 drive2L
FLAG 384 208 drive1S
FLAG 352 912 drive1S
FLAG 800 208 drive2S
FLAG 432 384 0
FLAG 64 1072 0
FLAG 688 1072 0
FLAG 976 912 drive2S
FLAG -1104 768 drive1pwm
FLAG -1104 1024 drive2pwm
FLAG -1104 848 0
FLAG -1104 1104 0
FLAG -176 1024 drive1pwm
FLAG 448 1024 drive2pwm
FLAG -880 464 0
FLAG -880 384 Vcc+
FLAG -160 720 Vcc+
FLAG 464 720 Vcc+
FLAG 512 192 Vleft
FLAG 928 192 Vright
FLAG 1792 224 Vcc+
FLAG 1280 192 Vright
FLAG 1264 384 Vleft
FLAG -1072 384 0
FLAG -1072 464 Vcc-
FLAG 1712 544 0
FLAG 1792 288 Vcc-
FLAG 1792 544 0
FLAG 2048 256 Vmotor
SYMBOL voltage 64 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value 4V
SYMBOL nmos 384 64 R0
SYMATTR InstName M1
SYMATTR Value Si7336ADP
SYMBOL nmos 384 224 R0
SYMATTR InstName M2
SYMATTR Value Si7336ADP
SYMBOL nmos 800 64 R0
SYMATTR InstName M3
SYMATTR Value Si7336ADP
SYMBOL nmos 800 224 R0
SYMATTR InstName M4
SYMATTR Value Si7336ADP
SYMBOL PowerProducts\\LTC4444 64 912 R0
SYMATTR InstName U1
SYMBOL PowerProducts\\LTC4444 688 912 R0
SYMATTR InstName U2
SYMBOL cap 176 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µF
SYMBOL diode -32 736 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 592 736 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL cap 800 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µF
SYMBOL Digital\\inv -160 928 R0
SYMATTR InstName A1
SYMATTR SpiceLine Vhigh=5V,Td=5e-9,Trise=20e-9
SYMBOL Digital\\inv 464 928 R0
SYMATTR InstName A2
SYMATTR SpiceLine Vhigh=5V,Td=5e-9,Trise=20e-9
SYMBOL voltage -1104 752 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName drive1pwm
SYMATTR Value PULSE(0 5 0 10n 10n {positive_dutycycle*10u} 10u)
SYMBOL voltage -1104 1008 R0
WINDOW 3 25 90 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {theta} 10n 10n {negative_dutycycle*10u} 10u)
SYMATTR InstName drive2pwm
SYMBOL voltage -880 368 R0
SYMATTR InstName Vcc
SYMATTR Value 10V
SYMBOL res 384 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 384 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL res 800 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL res 800 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10
SYMBOL res 1616 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rf
SYMATTR Value 500
SYMBOL OpAmps\\UniversalOpamp 1792 256 R0
SYMATTR InstName U3
SYMBOL res 1600 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 500
SYMBOL res 1856 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 500
SYMBOL res 1728 528 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 500
SYMBOL cap 1776 432 R0
SYMATTR InstName C3
SYMATTR Value 1µF
SYMBOL cap 1824 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1µF
SYMBOL voltage -1072 368 R0
SYMATTR InstName Vcc1
SYMATTR Value 10V
TEXT -144 616 Left 3 ;Bootstrap Drivers
TEXT 72 -48 Left 3 ;MOSFET Full-bridge
TEXT -216 184 Left 2 ;Vin is constant? \nor 4v-10v
TEXT -1096 152 Left 2 !.tran 0 5m 0 0.5m
TEXT -1112 1256 Left 2 !.param theta = 5u
TEXT -1112 1184 Left 2 !.param positive_dutycycle=0 negative_dutycycle=0.5
TEXT -1112 1320 Left 2 ;Change params positive_dutycycle and negative_dutycycle \nas needed to simulate pwm signal
TEXT 1192 -56 Left 3 ;PWM to DC low pass filter
RECTANGLE Normal -272 -80 1088 480 2
RECTANGLE Normal 2224 608 1152 -96 2
RECTANGLE Normal 1120 1184 -288 576 2
RECTANGLE Normal -1168 608 -352 1376 2
