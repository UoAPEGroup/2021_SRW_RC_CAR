Version 4
SHEET 1 1812 1732
WIRE 432 32 64 32
WIRE 848 32 432 32
WIRE 1472 32 1216 32
WIRE 432 64 432 32
WIRE 848 64 848 32
WIRE 1472 64 1472 32
WIRE 64 144 64 32
WIRE 288 144 272 144
WIRE 384 144 368 144
WIRE 704 144 688 144
WIRE 800 144 784 144
WIRE 432 192 432 160
WIRE 512 192 432 192
WIRE 848 192 848 160
WIRE 928 192 848 192
WIRE 432 208 432 192
WIRE 432 208 384 208
WIRE 848 208 848 192
WIRE 848 208 800 208
WIRE 1472 208 1472 144
WIRE 432 224 432 208
WIRE 848 224 848 208
WIRE 288 304 272 304
WIRE 384 304 368 304
WIRE 704 304 688 304
WIRE 800 304 784 304
WIRE 1472 320 1472 288
WIRE 64 368 64 224
WIRE 432 368 432 320
WIRE 432 368 64 368
WIRE 848 368 848 320
WIRE 848 368 432 368
WIRE 432 384 432 368
WIRE -144 720 -160 720
WIRE -32 720 -144 720
WIRE 64 720 32 720
WIRE 112 720 64 720
WIRE 320 720 176 720
WIRE 480 720 464 720
WIRE 592 720 480 720
WIRE 688 720 656 720
WIRE 736 720 688 720
WIRE 944 720 800 720
WIRE 64 768 64 720
WIRE 688 768 688 720
WIRE -144 832 -144 720
WIRE -64 832 -144 832
WIRE 208 832 192 832
WIRE 480 832 480 720
WIRE 560 832 480 832
WIRE 832 832 816 832
WIRE -64 912 -176 912
WIRE 320 912 320 720
WIRE 320 912 192 912
WIRE 352 912 320 912
WIRE 560 912 448 912
WIRE 944 912 944 720
WIRE 944 912 816 912
WIRE 976 912 944 912
WIRE -64 928 -64 912
WIRE -176 992 -176 912
WIRE -160 992 -176 992
WIRE -80 992 -96 992
WIRE -64 992 -80 992
WIRE 208 992 192 992
WIRE 448 992 448 912
WIRE 464 992 448 992
WIRE 544 992 528 992
WIRE 560 992 544 992
WIRE 832 992 816 992
WIRE -80 1008 -80 992
WIRE 544 1008 544 992
WIRE -176 1024 -176 992
WIRE 448 1024 448 992
WIRE 64 1072 64 1056
WIRE 688 1072 688 1056
WIRE 160 1264 96 1264
WIRE 320 1264 240 1264
WIRE 1120 1280 912 1280
WIRE 912 1360 912 1280
WIRE 960 1360 912 1360
WIRE 1120 1376 1120 1280
WIRE 1120 1376 1024 1376
WIRE 1168 1376 1120 1376
WIRE -48 1392 -96 1392
WIRE 96 1392 96 1264
WIRE 96 1392 32 1392
WIRE 128 1392 96 1392
WIRE 640 1392 592 1392
WIRE 768 1392 720 1392
WIRE 960 1392 768 1392
WIRE 320 1408 320 1264
WIRE 320 1408 192 1408
WIRE 384 1408 320 1408
WIRE 128 1424 96 1424
WIRE -32 1488 -112 1488
WIRE 96 1488 96 1424
WIRE 96 1488 48 1488
WIRE 768 1488 768 1392
WIRE 96 1568 96 1488
WIRE 768 1600 768 1552
WIRE 96 1712 96 1648
FLAG 272 144 drive1H
FLAG 272 304 drive1L
FLAG 688 144 drive2H
FLAG 688 304 drive2L
FLAG 208 832 drive1H
FLAG 208 992 drive1L
FLAG 832 832 drive2H
FLAG 832 992 drive2L
FLAG 384 208 drive1S
FLAG 352 912 drive1S
FLAG 800 208 drive2S
FLAG 64 1072 0
FLAG 688 1072 0
FLAG 976 912 drive2S
FLAG -640 736 drive1pwm
FLAG -640 992 drive2pwm
FLAG -640 816 0
FLAG -640 1072 0
FLAG -176 1024 drive1pwm
FLAG 448 1024 drive2pwm
FLAG -640 512 0
FLAG -640 432 Vcc
FLAG -160 720 Vcc
FLAG 464 720 Vcc
FLAG 512 192 Vleft
FLAG 928 192 Vright
FLAG 96 1712 0
FLAG 432 384 0
FLAG -112 1488 Vleft
FLAG -96 1392 Vright
FLAG 384 1408 Vdiff
FLAG 592 1392 Vleft
FLAG 160 1376 Vcc
FLAG 992 1344 Vcc
FLAG 160 1440 0
FLAG 992 1408 0
FLAG 1168 1376 Vout
FLAG 1472 320 0
FLAG 1216 32 Vout
FLAG 768 1600 Vright
SYMBOL voltage 64 128 R0
SYMATTR InstName Vin
SYMATTR Value 4V
SYMBOL nmos 384 64 R0
SYMATTR InstName M1
SYMATTR Value Si7336ADP
SYMBOL nmos 384 224 R0
SYMATTR InstName M2
SYMATTR Value Si7336ADP
SYMBOL nmos 800 64 R0
SYMATTR InstName M3
SYMATTR Value Si7336ADP
SYMBOL nmos 800 224 R0
SYMATTR InstName M4
SYMATTR Value Si7336ADP
SYMBOL PowerProducts\\LTC4444 64 912 R0
SYMATTR InstName U1
SYMBOL PowerProducts\\LTC4444 688 912 R0
SYMATTR InstName U2
SYMBOL cap 176 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µF
SYMBOL diode -32 736 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 592 736 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL cap 800 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µF
SYMBOL Digital\\inv -160 928 R0
SYMATTR InstName A1
SYMATTR SpiceLine Vhigh=5V,Td=5e-9,Trise=20e-9
SYMBOL Digital\\inv 464 928 R0
SYMATTR InstName A2
SYMATTR SpiceLine Vhigh=5V,Td=5e-9,Trise=20e-9
SYMBOL voltage -640 720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName drive1pwm
SYMATTR Value PULSE(0 5 0 10n 10n 0 10u)
SYMBOL voltage -640 976 R0
WINDOW 3 25 90 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {theta} 10n 10n 5u 10u)
SYMATTR InstName drive2pwm
SYMBOL voltage -640 416 R0
SYMATTR InstName Vcc
SYMATTR Value 10V
SYMBOL res 384 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 384 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL res 800 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL res 800 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10
SYMBOL OpAmps\\UniversalOpamp2 160 1408 R0
SYMATTR InstName U3
SYMBOL res 256 1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R_diff_amp}
SYMBOL res 48 1376 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {R_diff_amp}
SYMBOL res 64 1472 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R_diff_amp}
SYMBOL res 80 1664 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value {R_diff_amp}
SYMBOL OpAmps\\UniversalOpamp2 992 1376 R0
SYMATTR InstName U4
SYMBOL res 736 1376 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL cap 752 1488 R0
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL res 1456 48 R0
SYMATTR InstName R10
SYMATTR Value 50
SYMBOL ind 1456 192 R0
SYMATTR InstName L1
SYMATTR Value 10µ
TEXT -144 616 Left 3 ;Bootstrap Drivers
TEXT 72 -48 Left 3 ;MOSFET Full-bridge
TEXT -144 184 Left 2 ;Vin is 4V-10V
TEXT -632 184 Left 2 !.tran 1m
TEXT -632 264 Left 2 !.param theta = 3u
TEXT -368 448 Left 2 ;As parameters in the circuit (e.g. Vin) may be changing with time, we will need a closed loop feedback system to maintain the output voltage at the desired value.
TEXT -368 488 Left 2 ;This will be implemented using a PI controller.
TEXT 256 1496 Left 2 !.param R_diff_amp 10k
