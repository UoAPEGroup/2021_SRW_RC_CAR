* ------------------------------------------------------------------------------
* 
* DISCLAIMER
* 
* INFINEON'S MODEL TERMS OF USE
* 
* BY DOWNLOADING AND/OR USING THIS INFINEON MODEL ("MODEL"), THE USER
* (INCLUDING YOU) AGREES TO BE BOUND BY THE TERMS OF USE HERE STATED. IF USER
* DOES NOT AGREE TO ALL TERMS OF USE HERE STATED, USER SHALL NOT DOWNLOAD,
* USE OR COPY THE MODEL BUT IMMEDIATELY DELETE IT (TO THE EXTENT THAT IT
* WAS DOWNLOADED ALREADY).
* 
* 1. SCOPE OF USE
* 1.1 Any use of this Model provided by Infineon Technologies AG is subject
*     to these Terms of Use.
* 1.2 This Model, provided by Infineon, does not fully represent all of the
*     specifications and operating characteristics of the product to which
*     this Model relates.
* 1.3 This Model only describes the characteristics of a typical product.
*     In all cases, the current data sheet information for a given product
*     is the final design guideline and the only actual performance
*     specification. Although this Model can be a useful tool to evaluate
*     the product performance, it cannot simulate the exact product performance
*     under all conditions and it is also not intended to replace
*     bread-boarding for final verification.
* 
* 2. IMPORTANT NOTICE
* 2.1 Infineon Technologies AG ("Infineon") is not and cannot be aware of the
*     specific application of the Infineon's Model by User. However, Model may
*     from time to time be used by User in potentially harmful and/or life-
*     endangering applications such as traffic, logistic, medical, nuclear
*     or military applications or in other applications where failure of the
*     Model may predictably cause damage to persons' life or health or to
*     property (hereinafter "Critical Applications").
* 2.2 User acknowledges that Infineon has not specifically designed or
*     qualified the Model for Critical Applications that the Model may contain
*     errors and bugs and that User is required to qualify the Model for
*     Critical Applications pursuant to the applicable local quality, safety
*     and legal requirements before permitting or giving access to any such use.
* 
* 3. CONFIDENTIAL INFORMATION
*     User shall treat ideas, concepts and information incorporated in the
*     Model, the documentation and the content of this Terms of Use (together
*     hereinafter "Confidential Information") confidential, not disclose it to
*     any third party unless otherwise agreed in writing between User and
*     Infineon, not use it for any other purposes than using the Model for
*     simulation and testing purposes only.
* 
* 4. WARRANTY
* 4.1 User acknowledges that the Model is provided by Infineon under this Terms
*     of Use is provided free of charge and "AS IS" without any warranty or
*     liability of any kind and Infineon hereby expressly disclaims any
*     warranties or representations, whether express, implied, statutory or
*     otherwise, including but not limited to warranties of workmanship,
*     merchantability, fitness for a particular purpose, defects in the
*     Model, or non-infringement of third parties intellectual property rights.
* 4.2 Infineon reserves the right to make corrections, deletions, modifications,
*     enhancements, improvements and other changes to the Model at any time
*     or to move or discontinue any Model without notice.
* 
* 5. LIABILITY
* 5.1 Nothing in this Terms of Use shall limit or exclude Infineon's liability
*     under mandatory liability laws, for injuries to life, body or health,
*     for fraudulent concealment of defects in the software, or in cases
*     of Infineon's intentional misconduct or gross negligence.
* 5.2 Without prejudice to Sections 5.1, in cases of Infineon's slight
*     negligent breach of obligations that restrict essential rights or duties
*     arising from the nature of this Terms of Use in a way that there is a
*     risk of non-achievement of the purpose of this Terms of Use or of an
*     obligation whose observance User regularly may trust in and whereas
*     compliance with only makes proper execution of this Terms of Use
*     possible, Infineon's liability shall be limited to the typically,
*     foreseeable damage.
* 5.3 Without prejudice to Sections 8.1 and 8.2, Infineon's liability under
*     this Agreement shall be excluded in all other cases.
* 
* 6. EXPORT REGULATIONS
*     The User shall comply with all applicable national and international
*     laws and regulations, in particular the applicable export control
*     regulations and sanction programs. The User also agrees not to
*     export, re-export or transfer any software or technology developed
*     with or using information, software or technology offered by Infineon,
*     in violation of any applicable laws or regulations of the competent
*     authorities. Further, the User shall neither use any products,
*     information, software and technology offered by Infineon in or in
*     connection with nuclear technology or weapons of mass destruction
*     (nuclear, biological or chemical) and carriers thereof nor supply
*     military consignees.
* 
* 7. TERMINATION OF USE PERMIT
*     If the User violates these Terms of Use, such User's permit to use
*     this Model terminates automatically. In addition, Infineon may
*     terminate the User's permit to use this Model at its discretion and
*     at any time regardless of any violation of these Terms of Use. In
*     any of the foregoing events, the User is obliged to immediately destroy
*     any content that has been downloaded or printed from Infineon's website.
* 
* 8. MISCELLANEOUS
* 8.1 These Terms of Use are subject to the laws of the Federal Republic
*     of Germany with the exception of the United Nations on Purchase
*     Contracts on the International Sale of Goods dated April 11, 1980 (CISG).
*     The exclusive place of jurisdiction is Munich, Germany.
* 8.2 Should any provision in these Terms of Use be or become invalid, the
*     validity of all other provisions or agreements shall remain unaffected
*     thereby.
* 
* ------------------------------------------------------------------------------
* 
* Title:    INFINEON Power Transistors Simulation Models for PSpice
* Description: n-channel Transistors
*                 OptiMOS4 (OptiMOS-T2) 40V
* Authors:  Dr. Elmar Gondro, Tel: +49/89/234-29391
*           Günther Moyses,   Tel: +49/89/234-24811
*           Gerhard Nöbauer,  Tel: +43/(5)/1777-6653
* Email:    Elmar.Gondro@Infineon.com
*           Guenther.Moyses@Infineon.com
*           Gerhard.Noebauer@Infineon.com
* Support:  Simulate@Infineon.com
*
* ------------------------------------------------------------------------------
* 
* This library contains models of the following INFINEON transistors:
* 
*   NL
*    IPB180N04S4-00     IPB180N04S4-H0     IPB180N04S4-01     
*    IPB120N04S4-01     IPB160N04S4-H1     IPB120N04S4-02     
*    IPB90N04S4-02      IPD90N04S4-02      IPD100N04S4-02     
*    IPB100N04S4-H2     IPB80N04S4-03      IPD90N04S4-03      
*    IPB80N04S4-04      IPD90N04S4-04      IPD90N04S4-05      
*    IPB70N04S4-06      IPD75N04S4-06      IPD50N04S4-08      
*    IPD50N04S4-10      IPI120N04S4-01     IPP120N04S4-01     
*    IPI120N04S4-02     IPP120N04S4-02     IPI90N04S4-02      
*    IPP90N04S4-02      IPI100N04S4-H2     IPP100N04S4-H2     
*    IPI80N04S4-03      IPP80N04S4-03      IPI80N04S4-04      
*    IPP80N04S4-04      IPI70N04S4-06      IPP70N04S4-06      
*    IPG20N04S4-12      IPG20N04S4-09      IPG20N04S4-08      
*    IPLU300N04S4-R7    IPLU300N04S4-R8    IIPC25S4N04        
*    IIPC31S4N04        IPB240N04S4-R9     IPB240N04S4-1R0    
*    IIPC20S4N04        IPC100N04S4-02     IPC80N04S4-03      
*    IPC60N04S4-06      IPLU250N04S4-1R7   IPLU300N04S4-1R1   
*    IAUW161N04S4       IPB120N04S4-04     IPB160N04S4-02D    
*    IPB100N04S4-02D    IPI100N04S4-03D    IPP100N04S4-03D    
*    
* 
*   LL
*    IPB80N04S4L-04     IPD90N04S4L-04     IPI80N04S4L-04     
*    IPP80N04S4L-04     IPB45N04S4L-08     IPD50N04S4L-08     
*    IPG20N04S4L-11     IPG20N04S4L-08     IPG20N04S4L-07     
*    IPD50N04S4L-04     IPD50N04S4L-07     ITD50N04S4L-07     
*    ITD50N04S4L-07-B   IPB180N04S4L-H0    IPB160N04S4L-H1    
*    IPB180N04S4L-01    IPB120N04S4L-02    IPC60N04S4L-06     
*    IPD100N04S4L-02    IAUW161N04S4L      
* 
* ------------------------------------------------------------------------------
* 
* Thermal nodes of level 3 models: 
* 
*  Tj:    Potential (temperature in °C) at junction (typically not connected) 
*  Tcase: Node where boundary condition (external heat sinks) must be connected.
*         Ideal heat sink can be modeled by using a voltage source stating the 
*         ambient temperature in °C between Tcase and ground. 
* 
* ------------------------------------------------------------------------------
* 
* This file also contains simplified models that are compatible to standard 
* Spice (Level 0) 
* 
* ------------------------------------------------------------------------------
* 
* History: 
* DD/MM/YY 
* 27/07/10 models added                                                (Nöbauer)
* 11/01/13 models ITD50N04S4L-04 and ITD50N04S4L-07 added       (Gondro ,Moyses)
* 17/01/13 model IPLU300N04S4-R7 and S4_40_kd_var[1] added      (Gondro, Moyses)
* 04/02/13 model IIPC25S4N04 based on IPB180N04S4-00 added      (Gondro, Moyses)
* 07/03/13 model IIPC31S4N04 added                              (Gondro, Moyses)
* 22/08/13 new NL models for:                                   (Gondro, Moyses)
*            IPB240N04S4-R9
*            IPB240N04S4-1R0
* 05/12/13 split of OptiMOS-T2_30V_40V.lib acc. to voltage class        (Gondro)
* 11/12/13 changed "-" to "_" in subcircuit names                       (Gondro)
* 20/12/13 changed I(Ls) to I(Gs) (in case Ls=0)                        (Gondro)
* 26/02/14 new LL models for:                                   (Gondro, Moyses)
*            IPB180N04S4L-H0
*            IPB160N04S4L-H1
*            IPB180N04S4L-01
*            IPB120N04S4L-02
* 27/02/14 model IIPC20S4N04 based on IPB180N04S4-H0 added              (Gondro)
* 20/05/14 new models for:                                      (Gondro, Moyses)
*            IPC100N04S4-02, IPC80N04S4-03, IPC60N04S4-06, IPC60N04S4L-06
* 28/05/14 new models for:                                      (Gondro, Moyses)
*            IPLU250N04S4-1R7, IPLU300N04S4-1R1
* 21/10/15 new model for: IPLU300N04S4-R8                       (Gondro, Moyses)
* 13/01/16 widened Vth-corner of S4_40_h_var* from +/- 0.4V to +/-0.5V  (Gondro)
*            due to customer feedback from TIW (IPB120N04S4L-02) 
* 08/12/16 new model for:                                       (Gondro, Moyses)
*            IPD100N04S4L-02
* 16/12/16 new models for:                                      (Gondro, Moyses)
*            IAUW161N04S4, IAUW161N04S4L
* 17/05/17 new model for: IPB120N04S4-04                                (Gondro)
*            IPB160N04S4-02D IPB100N04S4-02D IPI100N04S4-03D IPP100N04S4-03D
*          rename Zthtype -> dZth
* 17/05/17 renamed ITD50N04S4L-0[47] to IPD50N04S4L-0[47] (with Ld=1n)  (Gondro)
*          new ITD50N04S4L-07 with TwinMOS created
* 03/05/18 param Rlim limited to avoid negative sqrt                    (Gondro)
* 
* ------------------------------------------------------------------------------
* 
* S4_40_h_var:  SFET4_40 LL
* S4_40_k_var:  SFET4_40 NL
* S4_40_kd_var: SFET4_40 NL
* 
* ------------------------------------------------------------------------------


********************************************************************************
* Technology Models
********************************************************************************

.SUBCKT S4_40_h_var dd g s0 Tj PARAMS: a=1 dVth=0 dR=0 dgfs=0 Inn=1 Unn=1 Rmax=1
+ gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM  Fm=0.2       Fn=0.5
.PARAM  c=1.21       Vth0=2.85   auth=2.35m
.PARAM  UT=100m      ab=22m      lB=-23       UB=45.2

.PARAM  b0=123       p0=7.71     p1=-33m      p2=54u

.PARAM  Rd=7.33m     nmu=3       Tref=298     T0=273       lnIsj=-25.6
.PARAM  ndi=1.1      n_Isj=3.0   Rdi=1.82m   nmu2=0.588   ta=3n        td=20n
.PARAM  Rf=0.66      nmu3=1.38

.PARAM  f1=210p      f2=600p     f3=1.03n     U0=12       nc=2    nd=1.25
.PARAM  g1=0.15      bb=1        remp=0.01p   f2r=250p
.PARAM  kbq=85.8u

.PARAM  Vmin=2.35     Vmax=3.35    dCmax=0.33
.PARAM  Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
.PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cox={f1*a*dC2}
.PARAM  Cox1={remp*sqrt(a)*dC2}
.PARAM  Cds0={(f2*a+f2r*sqrt(a))*dC1}
.PARAM  Cgs0={f3*a*dC1}
.PARAM  dRdi={Rdi/a}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC J(d,g,T,da,s) 
+ {a*s*((Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1))+
+ exp(min(lB+(d-UB-ab*(T-Tref))/UT,25))))}

.FUNC  Idiode(Usd,Tj,Iss) {exp(min(log(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC  Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**n_Isj)}

E_Edg     d   ox  VALUE {max(V(d,g),-bb)-(1/(g1*(1-nc))*((1/(1+g1*max(V(d,g)+(bb),0)))**(nc-1)-(1/(1+g1*bb))**(nc-1)))}
C_Cdg    ox    g  {Cox}
Vx        d   ox1 0
C_Cdg1   ox1   g  {Cox1}

E_Eds     d edep  VALUE {(V(d,s)-I(V_sense3)/Cds0)}
C_Cds  edep    s  {Cds0}

C_Cgs   g    s   {Cgs0}

G_chan    d    s VALUE={J(V(d,s),V(g,s),T0+limit(V(Tj),-200,300),abs(V(d,s)),sgn(V(d,s)))}
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense  dd   d1  0

G_diode   s   d3  VALUE={Idiod(V(s,d3),T0+limit(V(Tj),-200,499))}
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

L_L001    a    c  {td/(ta+td)}
R_R001    a    b  {1/ta}
V_sense3  c    0  0
E_E001    b    0  VALUE {I(V_sense2)}
E_E002    e    0  VALUE {Cds0*1/(1-nd)*U0**nd*(limit(U0+V(d1,s),0,2*UB))**(1-nd)}
R_R002    e    c  1
R_R003    a    0  500Meg

R1        g    s  1G
Rd01      d    s  500Meg
Rd02     d2    s  500Meg
Rd03     d1    d  1k

Rmet      s    s0 {Rm}

G_TH      0   Tj  VALUE =
+ {(limit(I(V_sense2)*V(d1,s)+(V(s,s0)**2)/Rm+(I(V_sense)-I(V_sense2))*V(d1,d)+
+ (I(V_sense)-I(V_sense2)-I(E_Edg)-I(Vx)-I(E_Eds))*V(d,s),-10k,100k))}

.ENDS

*********

.SUBCKT S4_40_h_var1 dd g s0 Tj PARAMS: a=1 dVth=0 dR=0 dgfs=0 Inn=1 Unn=1 Rmax=1
+ gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM  Fm=0.2       Fn=0.5
.PARAM  c=1.21       Vth0=2.85   auth=2.35m
.PARAM  UT=100m      ab=22m      lB=-23       UB=45.2

.PARAM  b0=123       p0=7.71     p1=-33m      p2=54u

.PARAM  Rd=7.33m     nmu=3       Tref=298     T0=273       lnIsj=-28
.PARAM  ndi=1.1      Rdi=1.82m   nmu2=0.588   ta=3n        td=20n
.PARAM  Rf=0.66      nmu3=1.38

.PARAM  f1=210p      f2=600p     f3=1.03n     U0=12       nc=2    nd=1.25
.PARAM  g1=0.15      bb=1        remp=0.01p   f2r=250p
.PARAM  kbq=85.8u

.PARAM  Vmin=2.35     Vmax=3.35    dCmax=0.33
.PARAM  Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
.PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cox={f1*a*dC2}
.PARAM  Cox1={remp*sqrt(a)*dC2}
.PARAM  Cds0={(f2*a+f2r*sqrt(a))*dC1}
.PARAM  Cgs0={f3*a*dC1}
.PARAM  dRdi={Rdi/a}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC  J(d,g,T,da) 
+ {a*(sgn(d)*Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1)))}

E_Edg     d   ox  VALUE {max(V(d,g),-bb)-(1/(g1*(1-nc))*((1/(1+g1*max(V(d,g)+(bb),0)))**(nc-1)-(1/(1+g1*bb))**(nc-1)))}
C_Cdg    ox   g   {Cox}
C_Cdg1   d    g   {Cox1}

E_Eds    d    edep  VALUE {V(d,s)-1/(1-nd)*U0*((limit(1+V(d,s)/U0,0,2*UB))**(1-nd)-1)}
C_Cds  edep    s  {Cds0*0.99}

Dbody s dd dbody
.model dbody D (BV= {UB},CJO ={Cds0/100},TT ={ta},IS ={a*exp(lnIsj)} m={0.3} RS={dRdi} )

C_Cgs   g    s   {Cgs0}

G_chan    d    s VALUE={J(V(d,s),V(g,s),T0+limit(V(Tj),-200,300),abs(V(d,s)))}
G_RMos   dd    d  VALUE={V(dd,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}

R1        g    s  1G
Rd01      d    s  500Meg
Rd03     dd    d  1k
Rd04     g     d  500Meg

Rmet      s    s0 {Rm}  TC=4m

Rx Tj 0 1k

.ENDS

*********

.SUBCKT S4_40_k_var dd g s0 Tj PARAMS: a=1 dVth=0 dR=0 dgfs=0 Inn=1 Unn=1 Rmax=1
+ gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM  Fm=0.3       Fn=0.5      al=1
.PARAM  c=1.9425     Vth0=4.6    auth=3.986m
.PARAM  UT=100m      ab=22m      lB=-23       UB=45.2

.PARAM  b0=75.3      p0=7.261     p1=-20.6m   p2=36u     

.PARAM  Rd=7.33m     nmu=3       Tref=298     T0=273       lnIsj=-26.975
.PARAM  ndi=1.097    n_Isj=3.0   Rdi=1.82m   nmu2=0.588   ta=10n       td=20n
.PARAM  Rf=0.63      nmu3=1.074

.PARAM  f1=140p      f2=600p     f3=760p      U0=12        nc=2    nd=1.25
.PARAM  g1=0.15      bb=1        remp=0.01p   f2r=250p
.PARAM  kbq=85.8u

.PARAM  Vmin=3.6     Vmax=5.6    dCmax=0.33
.PARAM  Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
.PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cox={f1*a*dC2}
.PARAM  Cox1={remp*sqrt(a)*dC2}
.PARAM  Cds0={(f2*a+f2r*sqrt(a))*dC1}
.PARAM  Cgs0={f3*a*dC1}
.PARAM  dRdi={Rdi/a}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}

.FUNC J(d,g,T,da,s) 
+ {a*s*((Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1))+
+ exp(min(lB+(d-UB-ab*(T-Tref))/UT,25))))}

.FUNC  Idiode(Usd,Tj,Iss) {exp(min(log(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC  Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**n_Isj)}

E_Edg     d   ox  VALUE {max(V(d,g),-bb)-(1/(g1*(1-nc))*((1/(1+g1*max(V(d,g)+(bb),0)))**(nc-1)-(1/(1+g1*bb))**(nc-1)))}
C_Cdg    ox    g  {Cox}
Vx        d   ox1 0
C_Cdg1   ox1   g  {Cox1}


E_Eds    d edep  VALUE {(V(d,s)-I(V_sense3)/Cds0)}
C_Cds  edep    s  {Cds0}

C_Cgs   g    s   {Cgs0}

G_chan    d    s VALUE={J(V(d,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d,s)))-1)/2/al,sgn(V(d,s)))}


G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense  dd   d1  0
G_diode   s   d3  VALUE={Idiod(V(s,d3),T0+limit(V(Tj),-200,499))}
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

L_L001    a    c  {td/(ta+td)}
R_R001    a    b  {1/ta}
V_sense3  c    0  0
E_E001    b    0  VALUE {I(V_sense2)}
E_E002    e    0  VALUE {Cds0*1/(1-nd)*U0**nd*(limit(U0+V(d1,s),0,2*UB))**(1-nd)}
R_R002    e    c  1
R_R003    a    0  500Meg

R1        g    s  1G
Rd01      d    s  500Meg
Rd02     d2    s  500Meg
Rd03     d1    d  1k

Rmet      s    s0 {Rm}

G_TH      0   Tj  VALUE =
+ {(limit(I(V_sense2)*V(d1,s)+(V(s,s0)**2)/Rm+(I(V_sense)-I(V_sense2))*V(d1,d)+
+ (I(V_sense)-I(V_sense2)-I(E_Edg)-I(Vx)-I(E_Eds))*V(d,s),-10k,100k))}

.ENDS

*********

.SUBCKT S4_40_k_var1 dd g s0 Tj PARAMS: a=1 dVth=0 dR=0 dgfs=0 Inn=1 Unn=1 Rmax=1
+ gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM  Fm=0.3       Fn=0.5      al=1
.PARAM  c=1.9425     Vth0=4.6    auth=3.986m
.PARAM  UT=100m      ab=22m      lB=-23       UB=45.2

.PARAM  b0=75.3      p0=7.261     p1=-20.6m   p2=36u     

.PARAM  Rd=7.33m     nmu=3       Tref=298     T0=273       lnIsj=-29.6
.PARAM  ndi=1.097    Rdi=1.82m   nmu2=0.588   ta=3n        td=20n
.PARAM  Rf=0.63      nmu3=1.074

.PARAM  f1=140p      f2=600p     f3=760p      U0=12        nc=2    nd=1.25
.PARAM  g1=0.15      bb=1        remp=0.01p   f2r=250p
.PARAM  kbq=85.8u

.PARAM  Vmin=3.6     Vmax=5.6    dCmax=0.33
.PARAM  Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
.PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cox={f1*a*dC2}
.PARAM  Cox1={remp*sqrt(a)*dC2}
.PARAM  Cds0={(f2*a+f2r*sqrt(a))*dC1}
.PARAM  Cgs0={f3*a*dC1}
.PARAM  dRdi={Rdi/a}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC  J(d,g,T,da) 
+ {a*(sgn(d)*Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1)))}

E_Edg     d   ox  VALUE {max(V(d,g),-bb)-(1/(g1*(1-nc))*((1/(1+g1*max(V(d,g)+(bb),0)))**(nc-1)-(1/(1+g1*bb))**(nc-1)))}
C_Cdg    ox   g   {Cox}
C_Cdg1   d    g   {Cox1}

E_Eds    d    edep  VALUE {V(d,s)-1/(1-nd)*U0*((limit(1+V(d,s)/U0,0,2*UB))**(1-nd)-1)}
C_Cds  edep    s  {Cds0*0.99}

Dbody s dd dbody
.model dbody D (BV= {UB},CJO ={Cds0/100},TT ={ta},IS ={a*exp(lnIsj)} m={0.3} RS={dRdi} )

C_Cgs   g    s   {Cgs0}

G_chan    d    s VALUE={J(V(d,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d,s)))-1)/2/al)}
G_RMos   dd    d  VALUE={V(dd,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}

R1        g    s  1G
Rd01      d    s  500Meg
Rd03     dd    d  1k
Rd04     g     d  500Meg

Rmet      s    s0 {Rm}  TC=4m

Rx Tj 0 1k

.ENDS

*********

.SUBCKT S4_40_kd_var dd g s0 Tj PARAMS: a=1 dVth=0 dR=0 dgfs=0 Inn=1 Unn=1 Rmax=1
+ gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM  Fm=0.3       Fn=0.5      al=1
.PARAM  c=2.1        Vth0=4.3    auth=3.986m
.PARAM  UT=100m      ab=22m      lB=-23       UB=45.2

.PARAM  b0=91        p0=7.261     p1=-20.6m   p2=36u     

.PARAM  Rd=4.93m     nmu=3       Tref=298     T0=273       lnIsj=-26.975
.PARAM  ndi=1.097    n_Isj=3.0   Rdi=1.82m   nmu2=0.588   ta=10n       td=20n
.PARAM  Rf=0.63      nmu3=1.074

.PARAM  f1=140p      f2=600p     f3=760p      U0=12        nc=2    nd=1.25
.PARAM  g1=0.15      bb=1        remp=0.01p   f2r=250p
.PARAM  kbq=85.8u

.PARAM  Vmin=3.3     Vmax=5.3    dCmax=0.33
.PARAM  Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
.PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cox={f1*a*dC2}
.PARAM  Cox1={remp*sqrt(a)*dC2}
.PARAM  Cds0={(f2*a+f2r*sqrt(a))*dC1}
.PARAM  Cgs0={f3*a*dC1}
.PARAM  dRdi={Rdi/a}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}

.FUNC J(d,g,T,da,s) 
+ {a*s*((Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1))+
+ exp(min(lB+(d-UB-ab*(T-Tref))/UT,25))))}

.FUNC  Idiode(Usd,Tj,Iss) {exp(min(log(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC  Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**n_Isj)}

E_Edg     d   ox  VALUE {max(V(d,g),-bb)-(1/(g1*(1-nc))*((1/(1+g1*max(V(d,g)+(bb),0)))**(nc-1)-(1/(1+g1*bb))**(nc-1)))}
C_Cdg    ox    g  {Cox}
Vx        d   ox1 0
C_Cdg1   ox1   g  {Cox1}


E_Eds    d edep  VALUE {(V(d,s)-I(V_sense3)/Cds0)}
C_Cds  edep    s  {Cds0}

C_Cgs   g    s   {Cgs0}

G_chan    d    s VALUE={J(V(d,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d,s)))-1)/2/al,sgn(V(d,s)))}


G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense  dd   d1  0
G_diode   s   d3  VALUE={Idiod(V(s,d3),T0+limit(V(Tj),-200,499))}
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

L_L001    a    c  {td/(ta+td)}
R_R001    a    b  {1/ta}
V_sense3  c    0  0
E_E001    b    0  VALUE {I(V_sense2)}
E_E002    e    0  VALUE {Cds0*1/(1-nd)*U0**nd*(limit(U0+V(d1,s),0,2*UB))**(1-nd)}
R_R002    e    c  1
R_R003    a    0  500Meg

R1        g    s  1G
Rd01      d    s  500Meg
Rd02     d2    s  500Meg
Rd03     d1    d  1k

Rmet      s    s0 {Rm}

G_TH      0   Tj  VALUE =
+ {(limit(I(V_sense2)*V(d1,s)+(V(s,s0)**2)/Rm+(I(V_sense)-I(V_sense2))*V(d1,d)+
+ (I(V_sense)-I(V_sense2)-I(E_Edg)-I(Vx)-I(E_Eds))*V(d,s),-10k,100k))}

.ENDS

*********

.SUBCKT S4_40_kd_var1 dd g s0 Tj PARAMS: a=1 dVth=0 dR=0 dgfs=0 Inn=1 Unn=1 Rmax=1
+ gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM  Fm=0.3       Fn=0.5      al=1
.PARAM  c=2.1        Vth0=4.3    auth=3.986m
.PARAM  UT=100m      ab=22m      lB=-23       UB=45.2

.PARAM  b0=91        p0=7.261     p1=-20.6m   p2=36u     

.PARAM  Rd=4.93m     nmu=3       Tref=298     T0=273       lnIsj=-29.6
.PARAM  ndi=1.097    Rdi=1.82m   nmu2=0.588   ta=3n        td=20n
.PARAM  Rf=0.63      nmu3=1.074

.PARAM  f1=140p      f2=600p     f3=760p      U0=12        nc=2    nd=1.25
.PARAM  g1=0.15      bb=1        remp=0.01p   f2r=250p
.PARAM  kbq=85.8u

.PARAM  Vmin=3.3     Vmax=5.3    dCmax=0.33
.PARAM  Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
.PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cox={f1*a*dC2}
.PARAM  Cox1={remp*sqrt(a)*dC2}
.PARAM  Cds0={(f2*a+f2r*sqrt(a))*dC1}
.PARAM  Cgs0={f3*a*dC1}
.PARAM  dRdi={Rdi/a}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC  J(d,g,T,da) 
+ {a*(sgn(d)*Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1)))}

E_Edg     d   ox  VALUE {max(V(d,g),-bb)-(1/(g1*(1-nc))*((1/(1+g1*max(V(d,g)+(bb),0)))**(nc-1)-(1/(1+g1*bb))**(nc-1)))}
C_Cdg    ox   g   {Cox}
C_Cdg1   d    g   {Cox1}

E_Eds    d    edep  VALUE {V(d,s)-1/(1-nd)*U0*((limit(1+V(d,s)/U0,0,2*UB))**(1-nd)-1)}
C_Cds  edep    s  {Cds0*0.99}

Dbody s dd dbody
.model dbody D (BV= {UB},CJO ={Cds0/100},TT ={ta},IS ={a*exp(lnIsj)} m={0.3} RS={dRdi} )

C_Cgs   g    s   {Cgs0}

G_chan    d    s VALUE={J(V(d,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d,s)))-1)/2/al)}
G_RMos   dd    d  VALUE={V(dd,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}

R1        g    s  1G
Rd01      d    s  500Meg
Rd03     dd    d  1k
Rd04     g     d  500Meg

Rmet      s    s0 {Rm}  TC=4m

Rx Tj 0 1k

.ENDS



********************************************************************************
* Level 3 Models
********************************************************************************

.SUBCKT IPB80N04S4L_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4m      gmin=69
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {401.72m+limit(dZth,0,1)*280.72m}
Rth5  t4      Tcase           {457.64m+limit(dZth,0,1)*319.8m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               591.548u
Cth5  t4      0               43.676m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPD90N04S4L_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=685u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=90       Unn=10       Rmax=3.8m    gmin=75
.PARAM RRf=390m     Rrbond=12m   Rtb=5.5      g2=758m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.71m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {410.73m+limit(dZth,0,1)*310.73m}
Rth5  t4      Tcase           {420.38m+limit(dZth,0,1)*318.04m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               613.242u
Cth5  t4      0               25.101m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPI80N04S4L_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.3m    gmin=69
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {401.72m+limit(dZth,0,1)*280.72m}
Rth5  t4      Tcase           {457.64m+limit(dZth,0,1)*319.8m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               591.548u
Cth5  t4      0               43.676m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP80N04S4L_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.3m    gmin=69
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {401.72m+limit(dZth,0,1)*280.72m}
Rth5  t4      Tcase           {457.64m+limit(dZth,0,1)*319.8m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               591.548u
Cth5  t4      0               43.676m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPB45N04S4L_08 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2.5n Ld=1n Lg=4n

.PARAM Rs=1.64m     Rg=1.6       Rd=50u       Rm=468u
.PARAM Inn=45       Unn=10       Rmax=7.6m    gmin=36.17
.PARAM RRf=488m     Rrbond=141m  Rtb=18.5     g2=904m
.PARAM act=1.74

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.12m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {16.06m+limit(dZth,0,1)*5.94m}
Rth2  t1      t2              {189.45m+limit(dZth,0,1)*70.11m}
Rth3  t2      t3              {677.86m+limit(dZth,0,1)*256.02m}
Rth4  t3      t4              {707.09m+limit(dZth,0,1)*383.35m}
Rth5  t4      Tcase           {644.63m+limit(dZth,0,1)*349.49m}
Cth1  Tj      0               15.14u
Cth2  t1      0               70.43u
Cth3  t2      0               514.832u
Cth4  t3      0               295.774u
Cth5  t4      0               36.854m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPD50N04S4L_08 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.23m     Rg=1.6       Rd=50u       Rm=468u
.PARAM Inn=50       Unn=10       Rmax=7.3m    gmin=39
.PARAM RRf=472m     Rrbond=50m   Rtb=11       g2=862m
.PARAM act=1.74

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               1.85m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {16.06m+limit(dZth,0,1)*5.94m}
Rth2  t1      t2              {189.45m+limit(dZth,0,1)*70.11m}
Rth3  t2      t3              {677.86m+limit(dZth,0,1)*256.02m}
Rth4  t3      t4              {825.1m+limit(dZth,0,1)*461.22m}
Rth5  t4      Tcase           {512.03m+limit(dZth,0,1)*286.21m}
Cth1  Tj      0               15.14u
Cth2  t1      0               70.43u
Cth3  t2      0               514.832u
Cth4  t3      0               306.621u
Cth5  t4      0               34.127m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPG20N04S4L_11 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=4.19m     Rg=1.2       Rd=50u       Rm=1m
.PARAM Inn=20       Unn=10       Rmax=11.6m   gmin=21
.PARAM RRf=498m     Rrbond=1     Rtb=55.2     g2=964m
.PARAM act=1.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               238.01u
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {19.01m+limit(dZth,0,1)*7.04m}
Rth2  t1      t2              {221.94m+limit(dZth,0,1)*82.13m}
Rth3  t2      t3              {781.66m+limit(dZth,0,1)*303.9m}
Rth4  t3      t4              {982.68m+limit(dZth,0,1)*506.63m}
Rth5  t4      Tcase           {524.57m+limit(dZth,0,1)*270.44m}
Cth1  Tj      0               12.791u
Cth2  t1      0               60.119u
Cth3  t2      0               450.013u
Cth4  t3      0               259.042u
Cth5  t4      0               47.277m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPG20N04S4L_08 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.36m     Rg=0.7       Rd=50u       Rm=636u
.PARAM Inn=20       Unn=10       Rmax=8.3m    gmin=26
.PARAM RRf=498m     Rrbond=962m  Rtb=48.3     g2=959m
.PARAM act=2.26

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               208.36u
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {12.37m+limit(dZth,0,1)*4.57m}
Rth2  t1      t2              {147.99m+limit(dZth,0,1)*54.77m}
Rth3  t2      t3              {539.13m+limit(dZth,0,1)*196.33m}
Rth4  t3      t4              {632.45m+limit(dZth,0,1)*413.54m}
Rth5  t4      Tcase           {483.02m+limit(dZth,0,1)*315.83m}
Cth1  Tj      0               19.665u
Cth2  t1      0               90.161u
Cth3  t2      0               641.13u
Cth4  t3      0               398.255u
Cth5  t4      0               27.161m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPG20N04S4L_07 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.56m     Rg=0.7       Rd=50u       Rm=798u
.PARAM Inn=20       Unn=10       Rmax=7.4m    gmin=29
.PARAM RRf=498m     Rrbond=991m  Rtb=49       g2=959m
.PARAM act=2.95

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               211.48u
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {9.47m+limit(dZth,0,1)*3.51m}
Rth2  t1      t2              {114.86m+limit(dZth,0,1)*42.51m}
Rth3  t2      t3              {417.42m+limit(dZth,0,1)*149.85m}
Rth4  t3      t4              {484.52m+limit(dZth,0,1)*329.23m}
Rth5  t4      Tcase           {445.75m+limit(dZth,0,1)*302.88m}
Cth1  Tj      0               25.669u
Cth2  t1      0               116.164u
Cth3  t2      0               825.083u
Cth4  t3      0               519.846u
Cth5  t4      0               25.157m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPB180N04S4_00 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=349u      Rg=1.7       Rd=20u       Rm=82u
.PARAM Inn=100      Unn=10       Rmax=0.98m   gmin=194
.PARAM RRf=382m     Rrbond=5m    Rtb=3.6      g2=647m
.PARAM act=23

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.75m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.22m+limit(dZth,0,1)*444.69u}
Rth2  t1      t2              {15.64m+limit(dZth,0,1)*5.79m}
Rth3  t2      t3              {62.39m+limit(dZth,0,1)*18.89m}
Rth4  t3      t4              {76.97m+limit(dZth,0,1)*38.49m}
Rth5  t4      Tcase           {186.78m+limit(dZth,0,1)*93.39m}
Cth1  Tj      0               200.132u
Cth2  t1      0               853.122u
Cth3  t2      0               5.31m
Cth4  t3      0               3.91m
Cth5  t4      0               120.156m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB180N04S4_H0 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=333u      Rg=1.7       Rd=20u       Rm=66u
.PARAM Inn=100      Unn=10       Rmax=1.1m    gmin=176
.PARAM RRf=382m     Rrbond=5m    Rtb=3.6      g2=647m
.PARAM act=18.06

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.75m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.55m+limit(dZth,0,1)*569.39u}
Rth2  t1      t2              {19.83m+limit(dZth,0,1)*7.34m}
Rth3  t2      t3              {78.58m+limit(dZth,0,1)*24.08m}
Rth4  t3      t4              {98.03m+limit(dZth,0,1)*51.55m}
Rth5  t4      Tcase           {208.72m+limit(dZth,0,1)*109.75m}
Cth1  Tj      0               157.147u
Cth2  t1      0               672.805u
Cth3  t2      0               4.227m
Cth4  t3      0               3.07m
Cth5  t4      0               101.141m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB180N04S4_01 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=335u      Rg=1.7       Rd=20u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=1.3m    gmin=157
.PARAM RRf=382m     Rrbond=5m    Rtb=3.6      g2=647m
.PARAM act=14.1

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.75m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.98m+limit(dZth,0,1)*735.79u}
Rth2  t1      t2              {25.27m+limit(dZth,0,1)*9.36m}
Rth3  t2      t3              {99.63m+limit(dZth,0,1)*30.9m}
Rth4  t3      t4              {125.56m+limit(dZth,0,1)*95.09m}
Rth5  t4      Tcase           {234.14m+limit(dZth,0,1)*177.33m}
Cth1  Tj      0               122.69u
Cth2  t1      0               527.921u
Cth3  t2      0               3.342m
Cth4  t3      0               2.397m
Cth5  t4      0               86.098m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB120N04S4_01 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=583u      Rg=1.7       Rd=50u       Rm=114u
.PARAM Inn=100      Unn=10       Rmax=1.5m    gmin=146
.PARAM RRf=319m     Rrbond=10m   Rtb=4.8      g2=710m
.PARAM act=14.1

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               7.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.98m+limit(dZth,0,1)*735.79u}
Rth2  t1      t2              {25.27m+limit(dZth,0,1)*9.36m}
Rth3  t2      t3              {99.63m+limit(dZth,0,1)*30.9m}
Rth4  t3      t4              {125.56m+limit(dZth,0,1)*95.09m}
Rth5  t4      Tcase           {234.14m+limit(dZth,0,1)*177.33m}
Cth1  Tj      0               122.69u
Cth2  t1      0               527.921u
Cth3  t2      0               3.342m
Cth4  t3      0               2.397m
Cth5  t4      0               86.098m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB160N04S4_H1 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=434u      Rg=1.7       Rd=20u       Rm=137u
.PARAM Inn=100      Unn=10       Rmax=1.6m    gmin=137
.PARAM RRf=412m     Rrbond=7m    Rtb=4.2      g2=680m
.PARAM act=11.03

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               11.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.53m+limit(dZth,0,1)*941.23u}
Rth2  t1      t2              {32.13m+limit(dZth,0,1)*11.89m}
Rth3  t2      t3              {125.48m+limit(dZth,0,1)*39.56m}
Rth4  t3      t4              {160.51m+limit(dZth,0,1)*100.2m}
Rth5  t4      Tcase           {262.74m+limit(dZth,0,1)*164.02m}
Cth1  Tj      0               95.976u
Cth2  t1      0               415.302u
Cth3  t2      0               2.663m
Cth4  t3      0               1.875m
Cth5  t4      0               74.364m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB120N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=50u       Rm=126u
.PARAM Inn=100      Unn=10       Rmax=1.8m    gmin=130
.PARAM RRf=319m     Rrbond=10m   Rtb=4.8      g2=710m
.PARAM act=10.78

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               7.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.59m+limit(dZth,0,1)*962.48u}
Rth2  t1      t2              {32.85m+limit(dZth,0,1)*12.16m}
Rth3  t2      t3              {129.19m+limit(dZth,0,1)*40.49m}
Rth4  t3      t4              {164.23m+limit(dZth,0,1)*115.36m}
Rth5  t4      Tcase           {265.6m+limit(dZth,0,1)*186.57m}
Cth1  Tj      0               93.801u
Cth2  t1      0               406.117u
Cth3  t2      0               2.583m
Cth4  t3      0               1.832m
Cth5  t4      0               73.399m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB90N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=845u      Rg=1.6       Rd=50u       Rm=200u
.PARAM Inn=90       Unn=10       Rmax=2.1m    gmin=76
.PARAM RRf=438m     Rrbond=28m   Rtb=8.2      g2=807m
.PARAM act=9.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               5.56m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.95m+limit(dZth,0,1)*1.09m}
Rth2  t1      t2              {37.28m+limit(dZth,0,1)*13.79m}
Rth3  t2      t3              {145.79m+limit(dZth,0,1)*46.13m}
Rth4  t3      t4              {186.95m+limit(dZth,0,1)*112.98m}
Rth5  t4      Tcase           {282.39m+limit(dZth,0,1)*170.65m}
Cth1  Tj      0               82.402u
Cth2  t1      0               357.938u
Cth3  t2      0               2.294m
Cth4  t3      0               1.61m
Cth5  t4      0               68.308m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPD90N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=879u      Rg=1.6       Rd=50u       Rm=400u
.PARAM Inn=90       Unn=10       Rmax=2.5m    gmin=76
.PARAM RRf=390m     Rrbond=12m   Rtb=5.5      g2=758m
.PARAM act=9.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.71m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.95m+limit(dZth,0,1)*1.09m}
Rth2  t1      t2              {37.28m+limit(dZth,0,1)*13.79m}
Rth3  t2      t3              {145.79m+limit(dZth,0,1)*46.13m}
Rth4  t3      t4              {150.93m+limit(dZth,0,1)*124.23m}
Rth5  t4      Tcase           {262.08m+limit(dZth,0,1)*215.73m}
Cth1  Tj      0               82.402u
Cth2  t1      0               357.938u
Cth3  t2      0               2.294m
Cth4  t3      0               1.669m
Cth5  t4      0               38.191m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPD100N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=585u      Rg=1.6       Rd=50u       Rm=158u
.PARAM Inn=100      Unn=10       Rmax=2m      gmin=83
.PARAM RRf=334m     Rrbond=8m    Rtb=4.5      g2=719m
.PARAM act=9.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.02m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.95m+limit(dZth,0,1)*1.09m}
Rth2  t1      t2              {37.28m+limit(dZth,0,1)*13.79m}
Rth3  t2      t3              {145.79m+limit(dZth,0,1)*46.13m}
Rth4  t3      t4              {150.93m+limit(dZth,0,1)*124.23m}
Rth5  t4      Tcase           {262.08m+limit(dZth,0,1)*215.73m}
Cth1  Tj      0               82.402u
Cth2  t1      0               357.938u
Cth3  t2      0               2.294m
Cth4  t3      0               1.669m
Cth5  t4      0               38.191m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPB100N04S4_H2 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=690u      Rg=1.6       Rd=50u       Rm=152u
.PARAM Inn=100      Unn=10       Rmax=2.4m    gmin=73
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=7.25

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {3.85m+limit(dZth,0,1)*1.43m}
Rth2  t1      t2              {48.33m+limit(dZth,0,1)*17.89m}
Rth3  t2      t3              {186.25m+limit(dZth,0,1)*60.39m}
Rth4  t3      t4              {244.2m+limit(dZth,0,1)*180.22m}
Rth5  t4      Tcase           {320.73m+limit(dZth,0,1)*236.71m}
Cth1  Tj      0               63.085u
Cth2  t1      0               276.079u
Cth3  t2      0               1.805m
Cth4  t3      0               1.232m
Cth5  t4      0               59.492m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB80N04S4_03 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=950u      Rg=1.6       Rd=50u       Rm=253u
.PARAM Inn=80       Unn=10       Rmax=3.3m    gmin=54.9
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=5.29

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {5.28m+limit(dZth,0,1)*1.96m}
Rth2  t1      t2              {65.57m+limit(dZth,0,1)*24.26m}
Rth3  t2      t3              {249.92m+limit(dZth,0,1)*83m}
Rth4  t3      t4              {298.49m+limit(dZth,0,1)*221.4m}
Rth5  t4      Tcase           {373.26m+limit(dZth,0,1)*276.86m}
Cth1  Tj      0               46.03u
Cth2  t1      0               203.495u
Cth3  t2      0               1.353m
Cth4  t3      0               899.221u
Cth5  t4      0               51.417m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPD90N04S4_03 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=732u      Rg=1.6       Rd=50u       Rm=253u
.PARAM Inn=90       Unn=10       Rmax=3.2m    gmin=59.91
.PARAM RRf=390m     Rrbond=12m   Rtb=5.5      g2=758m
.PARAM act=5.29

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.71m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {5.28m+limit(dZth,0,1)*1.96m}
Rth2  t1      t2              {65.57m+limit(dZth,0,1)*24.26m}
Rth3  t2      t3              {249.92m+limit(dZth,0,1)*83m}
Rth4  t3      t4              {270.2m+limit(dZth,0,1)*237.01m}
Rth5  t4      Tcase           {353.09m+limit(dZth,0,1)*309.71m}
Cth1  Tj      0               46.03u
Cth2  t1      0               203.495u
Cth3  t2      0               1.353m
Cth4  t3      0               932.199u
Cth5  t4      0               27.648m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPB80N04S4_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.2m    gmin=46
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {401.72m+limit(dZth,0,1)*280.72m}
Rth5  t4      Tcase           {457.64m+limit(dZth,0,1)*319.8m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               591.548u
Cth5  t4      0               43.676m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPD90N04S4_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=685u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=90       Unn=10       Rmax=4.1m    gmin=49
.PARAM RRf=390m     Rrbond=12m   Rtb=5.5      g2=758m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.71m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {410.73m+limit(dZth,0,1)*310.73m}
Rth5  t4      Tcase           {420.38m+limit(dZth,0,1)*318.04m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               613.242u
Cth5  t4      0               25.101m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPD90N04S4_05 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=787u      Rg=1.6       Rd=50u       Rm=242u
.PARAM Inn=90       Unn=10       Rmax=5.2m    gmin=46
.PARAM RRf=428m     Rrbond=19m   Rtb=6.8      g2=795m
.PARAM act=2.99

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {9.35m+limit(dZth,0,1)*3.45m}
Rth2  t1      t2              {113.39m+limit(dZth,0,1)*41.97m}
Rth3  t2      t3              {421.47m+limit(dZth,0,1)*147.82m}
Rth4  t3      t4              {478.04m+limit(dZth,0,1)*332.32m}
Rth5  t4      Tcase           {443.73m+limit(dZth,0,1)*308.46m}
Cth1  Tj      0               26.017u
Cth2  t1      0               117.666u
Cth3  t2      0               812.445u
Cth4  t3      0               526.895u
Cth5  t4      0               25.125m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPB70N04S4_06 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=1.22m     Rg=1.6       Rd=50u       Rm=254u
.PARAM Inn=70       Unn=10       Rmax=6.2m    gmin=37
.PARAM RRf=480m     Rrbond=86m   Rtb=14.5     g2=880m
.PARAM act=2.56

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               4m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {10.92m+limit(dZth,0,1)*4.04m}
Rth2  t1      t2              {131.47m+limit(dZth,0,1)*48.66m}
Rth3  t2      t3              {483.55m+limit(dZth,0,1)*173.02m}
Rth4  t3      t4              {510.16m+limit(dZth,0,1)*345.52m}
Rth5  t4      Tcase           {532.21m+limit(dZth,0,1)*360.45m}
Cth1  Tj      0               22.276u
Cth2  t1      0               101.487u
Cth3  t2      0               711.634u
Cth4  t3      0               435.162u
Cth5  t4      0               39.776m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPD75N04S4_06 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=892u      Rg=1.6       Rd=50u       Rm=254u
.PARAM Inn=75       Unn=10       Rmax=5.9m    gmin=39
.PARAM RRf=455m     Rrbond=30m   Rtb=8.6      g2=830m
.PARAM act=2.56

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               2.37m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {10.92m+limit(dZth,0,1)*4.04m}
Rth2  t1      t2              {131.47m+limit(dZth,0,1)*48.66m}
Rth3  t2      t3              {483.55m+limit(dZth,0,1)*173.02m}
Rth4  t3      t4              {558.34m+limit(dZth,0,1)*394.34m}
Rth5  t4      Tcase           {466.31m+limit(dZth,0,1)*329.35m}
Cth1  Tj      0               22.276u
Cth2  t1      0               101.487u
Cth3  t2      0               711.634u
Cth4  t3      0               451.121u
Cth5  t4      0               25.851m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPD50N04S4_08 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.23m     Rg=1.6       Rd=50u       Rm=468u
.PARAM Inn=50       Unn=10       Rmax=7.9m    gmin=26
.PARAM RRf=472m     Rrbond=50m   Rtb=11       g2=862m
.PARAM act=1.74

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               1.85m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {16.06m+limit(dZth,0,1)*5.94m}
Rth2  t1      t2              {189.45m+limit(dZth,0,1)*70.11m}
Rth3  t2      t3              {677.86m+limit(dZth,0,1)*256.02m}
Rth4  t3      t4              {825.1m+limit(dZth,0,1)*461.22m}
Rth5  t4      Tcase           {512.03m+limit(dZth,0,1)*286.21m}
Cth1  Tj      0               15.14u
Cth2  t1      0               70.43u
Cth3  t2      0               514.832u
Cth4  t3      0               306.621u
Cth5  t4      0               34.127m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPD50N04S4_10 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.37m     Rg=1.6       Rd=50u       Rm=475u
.PARAM Inn=48       Unn=10       Rmax=9.3m    gmin=23.53
.PARAM RRf=482m     Rrbond=76m   Rtb=13.6     g2=886m
.PARAM act=1.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               1.5m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {19.01m+limit(dZth,0,1)*7.04m}
Rth2  t1      t2              {221.94m+limit(dZth,0,1)*82.13m}
Rth3  t2      t3              {781.66m+limit(dZth,0,1)*303.9m}
Rth4  t3      t4              {982.68m+limit(dZth,0,1)*506.63m}
Rth5  t4      Tcase           {524.57m+limit(dZth,0,1)*270.44m}
Cth1  Tj      0               12.791u
Cth2  t1      0               60.119u
Cth3  t2      0               450.013u
Cth4  t3      0               259.042u
Cth5  t4      0               47.277m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPI120N04S4_01 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=583u      Rg=1.7       Rd=350u      Rm=114u
.PARAM Inn=100      Unn=10       Rmax=1.9m    gmin=146
.PARAM RRf=319m     Rrbond=10m   Rtb=4.8      g2=710m
.PARAM act=14.1

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               7.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.98m+limit(dZth,0,1)*735.79u}
Rth2  t1      t2              {25.27m+limit(dZth,0,1)*9.36m}
Rth3  t2      t3              {99.63m+limit(dZth,0,1)*30.9m}
Rth4  t3      t4              {125.56m+limit(dZth,0,1)*95.09m}
Rth5  t4      Tcase           {234.14m+limit(dZth,0,1)*177.33m}
Cth1  Tj      0               122.69u
Cth2  t1      0               527.921u
Cth3  t2      0               3.342m
Cth4  t3      0               2.397m
Cth5  t4      0               86.098m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP120N04S4_01 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=583u      Rg=1.7       Rd=350u      Rm=114u
.PARAM Inn=100      Unn=10       Rmax=1.9m    gmin=146
.PARAM RRf=319m     Rrbond=10m   Rtb=4.8      g2=710m
.PARAM act=14.1

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               7.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.98m+limit(dZth,0,1)*735.79u}
Rth2  t1      t2              {25.27m+limit(dZth,0,1)*9.36m}
Rth3  t2      t3              {99.63m+limit(dZth,0,1)*30.9m}
Rth4  t3      t4              {125.56m+limit(dZth,0,1)*95.09m}
Rth5  t4      Tcase           {234.14m+limit(dZth,0,1)*177.33m}
Cth1  Tj      0               122.69u
Cth2  t1      0               527.921u
Cth3  t2      0               3.342m
Cth4  t3      0               2.397m
Cth5  t4      0               86.098m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPI120N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=350u      Rm=126u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=130
.PARAM RRf=319m     Rrbond=10m   Rtb=4.8      g2=710m
.PARAM act=10.78

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               7.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.59m+limit(dZth,0,1)*962.48u}
Rth2  t1      t2              {32.85m+limit(dZth,0,1)*12.16m}
Rth3  t2      t3              {129.19m+limit(dZth,0,1)*40.49m}
Rth4  t3      t4              {164.23m+limit(dZth,0,1)*115.36m}
Rth5  t4      Tcase           {265.6m+limit(dZth,0,1)*186.57m}
Cth1  Tj      0               93.801u
Cth2  t1      0               406.117u
Cth3  t2      0               2.583m
Cth4  t3      0               1.832m
Cth5  t4      0               73.399m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP120N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=350u      Rm=126u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=130
.PARAM RRf=319m     Rrbond=10m   Rtb=4.8      g2=710m
.PARAM act=10.78

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               7.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.59m+limit(dZth,0,1)*962.48u}
Rth2  t1      t2              {32.85m+limit(dZth,0,1)*12.16m}
Rth3  t2      t3              {129.19m+limit(dZth,0,1)*40.49m}
Rth4  t3      t4              {164.23m+limit(dZth,0,1)*115.36m}
Rth5  t4      Tcase           {265.6m+limit(dZth,0,1)*186.57m}
Cth1  Tj      0               93.801u
Cth2  t1      0               406.117u
Cth3  t2      0               2.583m
Cth4  t3      0               1.832m
Cth5  t4      0               73.399m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPI90N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=845u      Rg=1.6       Rd=350u      Rm=200u
.PARAM Inn=90       Unn=10       Rmax=2.5m    gmin=76
.PARAM RRf=438m     Rrbond=28m   Rtb=8.2      g2=807m
.PARAM act=9.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               5.56m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.95m+limit(dZth,0,1)*1.09m}
Rth2  t1      t2              {37.28m+limit(dZth,0,1)*13.79m}
Rth3  t2      t3              {145.79m+limit(dZth,0,1)*46.13m}
Rth4  t3      t4              {186.95m+limit(dZth,0,1)*112.98m}
Rth5  t4      Tcase           {282.39m+limit(dZth,0,1)*170.65m}
Cth1  Tj      0               82.402u
Cth2  t1      0               357.938u
Cth3  t2      0               2.294m
Cth4  t3      0               1.61m
Cth5  t4      0               68.308m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP90N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=845u      Rg=1.6       Rd=350u      Rm=200u
.PARAM Inn=90       Unn=10       Rmax=2.5m    gmin=76
.PARAM RRf=438m     Rrbond=28m   Rtb=8.2      g2=807m
.PARAM act=9.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               5.56m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.95m+limit(dZth,0,1)*1.09m}
Rth2  t1      t2              {37.28m+limit(dZth,0,1)*13.79m}
Rth3  t2      t3              {145.79m+limit(dZth,0,1)*46.13m}
Rth4  t3      t4              {186.95m+limit(dZth,0,1)*112.98m}
Rth5  t4      Tcase           {282.39m+limit(dZth,0,1)*170.65m}
Cth1  Tj      0               82.402u
Cth2  t1      0               357.938u
Cth3  t2      0               2.294m
Cth4  t3      0               1.61m
Cth5  t4      0               68.308m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPI100N04S4_H2 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=690u      Rg=1.6       Rd=350u      Rm=152u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=7.25

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {3.85m+limit(dZth,0,1)*1.43m}
Rth2  t1      t2              {48.33m+limit(dZth,0,1)*17.89m}
Rth3  t2      t3              {186.25m+limit(dZth,0,1)*60.39m}
Rth4  t3      t4              {244.2m+limit(dZth,0,1)*180.22m}
Rth5  t4      Tcase           {320.73m+limit(dZth,0,1)*236.71m}
Cth1  Tj      0               63.085u
Cth2  t1      0               276.079u
Cth3  t2      0               1.805m
Cth4  t3      0               1.232m
Cth5  t4      0               59.492m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP100N04S4_H2 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=690u      Rg=1.6       Rd=350u      Rm=152u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=7.25

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {3.85m+limit(dZth,0,1)*1.43m}
Rth2  t1      t2              {48.33m+limit(dZth,0,1)*17.89m}
Rth3  t2      t3              {186.25m+limit(dZth,0,1)*60.39m}
Rth4  t3      t4              {244.2m+limit(dZth,0,1)*180.22m}
Rth5  t4      Tcase           {320.73m+limit(dZth,0,1)*236.71m}
Cth1  Tj      0               63.085u
Cth2  t1      0               276.079u
Cth3  t2      0               1.805m
Cth4  t3      0               1.232m
Cth5  t4      0               59.492m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPI80N04S4_03 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=950u      Rg=1.6       Rd=350u      Rm=253u
.PARAM Inn=80       Unn=10       Rmax=3.7m    gmin=54.9
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=5.29

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {5.28m+limit(dZth,0,1)*1.96m}
Rth2  t1      t2              {65.57m+limit(dZth,0,1)*24.26m}
Rth3  t2      t3              {249.92m+limit(dZth,0,1)*83m}
Rth4  t3      t4              {298.49m+limit(dZth,0,1)*221.4m}
Rth5  t4      Tcase           {373.26m+limit(dZth,0,1)*276.86m}
Cth1  Tj      0               46.03u
Cth2  t1      0               203.495u
Cth3  t2      0               1.353m
Cth4  t3      0               899.221u
Cth5  t4      0               51.417m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP80N04S4_03 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=950u      Rg=1.6       Rd=350u      Rm=253u
.PARAM Inn=80       Unn=10       Rmax=3.7m    gmin=54.9
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=5.29

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {5.28m+limit(dZth,0,1)*1.96m}
Rth2  t1      t2              {65.57m+limit(dZth,0,1)*24.26m}
Rth3  t2      t3              {249.92m+limit(dZth,0,1)*83m}
Rth4  t3      t4              {298.49m+limit(dZth,0,1)*221.4m}
Rth5  t4      Tcase           {373.26m+limit(dZth,0,1)*276.86m}
Cth1  Tj      0               46.03u
Cth2  t1      0               203.495u
Cth3  t2      0               1.353m
Cth4  t3      0               899.221u
Cth5  t4      0               51.417m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPI80N04S4_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.6m    gmin=46
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {401.72m+limit(dZth,0,1)*280.72m}
Rth5  t4      Tcase           {457.64m+limit(dZth,0,1)*319.8m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               591.548u
Cth5  t4      0               43.676m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP80N04S4_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.6m    gmin=46
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=3.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {8.03m+limit(dZth,0,1)*2.97m}
Rth2  t1      t2              {98.08m+limit(dZth,0,1)*36.3m}
Rth3  t2      t3              {367.97m+limit(dZth,0,1)*126.77m}
Rth4  t3      t4              {401.72m+limit(dZth,0,1)*280.72m}
Rth5  t4      Tcase           {457.64m+limit(dZth,0,1)*319.8m}
Cth1  Tj      0               30.281u
Cth2  t1      0               136.039u
Cth3  t2      0               926.528u
Cth4  t3      0               591.548u
Cth5  t4      0               43.676m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPI70N04S4_06 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.22m     Rg=1.6       Rd=350u      Rm=254u
.PARAM Inn=70       Unn=10       Rmax=6.5m    gmin=37
.PARAM RRf=480m     Rrbond=86m   Rtb=14.5     g2=880m
.PARAM act=2.56

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               4m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {10.92m+limit(dZth,0,1)*4.04m}
Rth2  t1      t2              {131.47m+limit(dZth,0,1)*48.66m}
Rth3  t2      t3              {483.55m+limit(dZth,0,1)*173.02m}
Rth4  t3      t4              {510.16m+limit(dZth,0,1)*345.52m}
Rth5  t4      Tcase           {532.21m+limit(dZth,0,1)*360.45m}
Cth1  Tj      0               22.276u
Cth2  t1      0               101.487u
Cth3  t2      0               711.634u
Cth4  t3      0               435.162u
Cth5  t4      0               39.776m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP70N04S4_06 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.22m     Rg=1.6       Rd=350u      Rm=254u
.PARAM Inn=70       Unn=10       Rmax=6.5m    gmin=37
.PARAM RRf=480m     Rrbond=86m   Rtb=14.5     g2=880m
.PARAM act=2.56

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               4m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {10.92m+limit(dZth,0,1)*4.04m}
Rth2  t1      t2              {131.47m+limit(dZth,0,1)*48.66m}
Rth3  t2      t3              {483.55m+limit(dZth,0,1)*173.02m}
Rth4  t3      t4              {510.16m+limit(dZth,0,1)*345.52m}
Rth5  t4      Tcase           {532.21m+limit(dZth,0,1)*360.45m}
Cth1  Tj      0               22.276u
Cth2  t1      0               101.487u
Cth3  t2      0               711.634u
Cth4  t3      0               435.162u
Cth5  t4      0               39.776m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPG20N04S4_12 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=4.19m     Rg=1.2       Rd=50u       Rm=1m
.PARAM Inn=20       Unn=10       Rmax=12.3m   gmin=14
.PARAM RRf=498m     Rrbond=1     Rtb=55.2     g2=964m
.PARAM act=1.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               238.01u
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {19.01m+limit(dZth,0,1)*7.04m}
Rth2  t1      t2              {221.94m+limit(dZth,0,1)*82.13m}
Rth3  t2      t3              {781.66m+limit(dZth,0,1)*303.9m}
Rth4  t3      t4              {982.68m+limit(dZth,0,1)*506.63m}
Rth5  t4      Tcase           {524.57m+limit(dZth,0,1)*270.44m}
Cth1  Tj      0               12.791u
Cth2  t1      0               60.119u
Cth3  t2      0               450.013u
Cth4  t3      0               259.042u
Cth5  t4      0               47.277m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPG20N04S4_09 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.36m     Rg=0.7       Rd=50u       Rm=636u
.PARAM Inn=20       Unn=10       Rmax=8.7m    gmin=18
.PARAM RRf=498m     Rrbond=962m  Rtb=48.3     g2=959m
.PARAM act=2.26

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               208.36u
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {12.37m+limit(dZth,0,1)*4.57m}
Rth2  t1      t2              {147.99m+limit(dZth,0,1)*54.77m}
Rth3  t2      t3              {539.13m+limit(dZth,0,1)*196.33m}
Rth4  t3      t4              {632.45m+limit(dZth,0,1)*413.54m}
Rth5  t4      Tcase           {483.02m+limit(dZth,0,1)*315.83m}
Cth1  Tj      0               19.665u
Cth2  t1      0               90.161u
Cth3  t2      0               641.13u
Cth4  t3      0               398.255u
Cth5  t4      0               27.161m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPG20N04S4_08 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.56m     Rg=0.7       Rd=50u       Rm=798u
.PARAM Inn=20       Unn=10       Rmax=7.7m    gmin=20
.PARAM RRf=498m     Rrbond=991m  Rtb=49       g2=959m
.PARAM act=2.95

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               211.48u
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {9.47m+limit(dZth,0,1)*3.51m}
Rth2  t1      t2              {114.86m+limit(dZth,0,1)*42.51m}
Rth3  t2      t3              {417.42m+limit(dZth,0,1)*149.85m}
Rth4  t3      t4              {484.52m+limit(dZth,0,1)*329.23m}
Rth5  t4      Tcase           {445.75m+limit(dZth,0,1)*302.88m}
Cth1  Tj      0               25.669u
Cth2  t1      0               116.164u
Cth3  t2      0               825.083u
Cth4  t3      0               519.846u
Cth5  t4      0               25.157m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPD50N04S4L_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.45m     Rg=2.6       Rd=50u       Rm=655u
.PARAM Inn=50       Unn=10       Rmax=4m      gmin=58
.PARAM RRf=475m     Rrbond=55m   Rtb=11.5     g2=868m
.PARAM act=4.47

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               1.94m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {43.53m+limit(dZth,0,1)*0p}
Rth2  t1      t2              {97.83m+limit(dZth,0,1)*19.75m}
Rth3  t2      t3              {373.17m+limit(dZth,0,1)*35.29m}
Rth4  t3      t4              {396.67m+limit(dZth,0,1)*219.36m}
Rth5  t4      Tcase           {588.79m+limit(dZth,0,1)*325.61m}
Cth1  Tj      0               151.382u
Cth2  t1      0               379.272u
Cth3  t2      0               581.758u
Cth4  t3      0               997.15u
Cth5  t4      0               9.795m
Cth6  Tcase   0               70m

.ENDS

**********

* Virtual model for ITD50N04S4L_07
.SUBCKT IPD50N04S4L_07 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.15m     Rg=1.9       Rd=50u       Rm=364u
.PARAM Inn=50       Unn=10       Rmax=7.2m    gmin=41
.PARAM RRf=475m     Rrbond=55m   Rtb=11.5     g2=868m
.PARAM act=1.84

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               1.94m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {0.08491092+limit(dZth,0,1)*0p}
Rth2  t1      t2              {0.2474496+limit(dZth,0,1)*187.67m}
Rth3  t2      t3              {0.3462567+limit(dZth,0,1)*664.65m}
Rth4  t3      t4              {0.6224659+limit(dZth,0,1)*228.16m}
Rth5  t4      Tcase           {0.5989169+limit(dZth,0,1)*219.52m}
Cth1  Tj      0               66.333u
Cth2  t1      0               145.854u
Cth3  t2      0               152.48u
Cth4  t3      0               449.255u
Cth5  t4      0               1.845m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT ITD50N04S4L_07 drain gate1 gate2 source1 source2 Tj1 Tj2 Tcase 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dZth=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.15m     Rg=1.9       Rd=50u       Rm=364u
.PARAM Inn=50       Unn=10       Rmax=7.2m    gmin=41
.PARAM RRf=475m     Rrbond=55m   Rtb=11.5     g2=868m
.PARAM act=1.84

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d11 g1 s1 Tj1 S4_40_h_var PARAMS: a={act} dVth={dVth1} dR={dRdson1} dgfs={dgfs1} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC1} Rm={Rm}
X2  d12 g2 s2 Tj2 S4_40_h_var PARAMS: a={act} dVth={dVth2} dR={dRdson2} dgfs={dgfs2} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC2} Rm={Rm}

Rg1    g11     g1    {Rg}   
Lg1    gate1   g11   {Lg*if(dgfs1==99,0,1)}
Gs1    s11     s1    VALUE={V(s11,s1)/(Rs*(1+(limit(V(Tj1),-200,999)-25)*4m)-Rm)}
Rsa1   s11     s1    1Meg
Ls1    source1 s11   {Ls*if(dgfs1==99,0,1)}
Rda1   d11     d21   {Rd*2}
Ld1    drain   d21   {Ld*2*if(dgfs1==99,0,1)}
Rsb1   source1 s11    10
Rga1   gate1   g11    10
Rdb1   drain   d21    10

Rg2    g12     g2    {Rg}   
Lg2    gate2   g12   {Lg*if(dgfs2==99,0,1)}
Gs2    s12     s2    VALUE={V(s12,s2)/(Rs*(1+(limit(V(Tj2),-200,999)-25)*4m)-Rm)}
Rsa2   s12     s2    1Meg
Ls2    source2 s12   {Ls*if(dgfs2==99,0,1)}
Rda2   d12     d22   {Rd*2}
Ld2    drain   d22   {Ld*2*if(dgfs2==99,0,1)}
Rsb2   source2 s12    10
Rga2   gate2   g12    10
Rdb2   drain   d22    10

G_TH1  0    Tb1  VALUE =  {Pb(abs(I(Ls1)),V(Tj1,Tcase),Rrbond*(1+(limit((V(Tb1)+V(Tj1))/2,-200,999)-25)*4m))}
Cthb1  Tb1      0                1.94m
Rthb1  Tb1      Tj1              {Rtb} 
Rth11  Tj1      t11              {0.08491092+limit(dZth,0,1)*0p}
Rth21  t11      t21              {0.2474496+limit(dZth,0,1)*187.67m}
Rth31  t21      t31              {0.3462567+limit(dZth,0,1)*664.65m}
Rth41  t31      t41              {0.6224659+limit(dZth,0,1)*228.16m}
Rth51  t41      Tcase            {0.5989169+limit(dZth,0,1)*219.52m}
Cth11  Tj1      0                66.333u
Cth21  t11      0                145.854u
Cth31  t21      0                152.48u
Cth41  t31      0                449.255u
Cth51  t41      0                1.845m
Cth61  Tcase    0                {70m/2}

G_TH2  0    Tb2  VALUE =  {Pb(abs(I(Ls2)),V(Tj2,Tcase),Rrbond*(1+(limit((V(Tb2)+V(Tj2))/2,-200,999)-25)*4m))}
Cthb2  Tb2      0                1.94m
Rthb2  Tb2      Tj2              {Rtb} 
Rth12  Tj2      t12              {0.08491092+limit(dZth,0,1)*0p}
Rth22  t12      t22              {0.2474496+limit(dZth,0,1)*187.67m}
Rth32  t22      t32              {0.3462567+limit(dZth,0,1)*664.65m}
Rth42  t32      t42              {0.6224659+limit(dZth,0,1)*228.16m}
Rth52  t42      Tcase            {0.5989169+limit(dZth,0,1)*219.52m}
Cth12  Tj2      0                66.333u
Cth22  t12      0                145.854u
Cth32  t22      0                152.48u
Cth42  t32      0                449.255u
Cth52  t42      0                1.845m
Cth62  Tcase    0                {70m/2}

* Rthk1  Tj1      e1               300
* Rthk2  Tj2      e1               300
* Rthk3  t31      e2               300
* Rthk4  t32      e2               300
* Cthk1  e1       0                4m
* Cthk2  e2       0                3m

.ENDS

**********

.SUBCKT ITD50N04S4L_07_B drain gate1 gate2 source1 source2 Tj1 Tj2 Tcase 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dZth=0 Ls=2n Ld=1n Lg=3n

X1  drain gate1 source1 Tj1 Tcase IPD50N04S4L_07 PARAMS: dVth={dVth1} dR={dRdson1} dgfs={dgfs1} dC={dC1} dZth={dZth} Ls={Ls} Ld={Ld*2} Lg={Lg} 
X2  drain gate2 source2 Tj2 Tcase IPD50N04S4L_07 PARAMS: dVth={dVth2} dR={dRdson2} dgfs={dgfs2} dC={dC2} dZth={dZth} Ls={Ls} Ld={Ld*2} Lg={Lg} 

.ENDS

**********

.SUBCKT IPLU300N04S4_R7 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=206u      Rg=1.7       Rd=19u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=0.76m   gmin=206
.PARAM RRf=500m     Rrbond=3m    Rtb=2.6      g2=999m
.PARAM act=23.05

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               10.97m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.89m+limit(dZth,0,1)*703.05u}
Rth2  t1      t2              {23.53m+limit(dZth,0,1)*8.71m}
Rth3  t2      t3              {56.48m+limit(dZth,0,1)*6.35m}
Rth4  t3      t4              {27.12m+limit(dZth,0,1)*64.57m}
Rth5  t4      Tcase           {47.52m+limit(dZth,0,1)*113.13m}
Cth1  Tj      0               200.567u
Cth2  t1      0               854.945u
Cth3  t2      0               3.244m
Cth4  t3      0               16.994m
Cth5  t4      0               21.802m
Cth6  Tcase   0               100m

.ENDS

**********

.SUBCKT IPLU300N04S4_R8 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=206u      Rg=1.7       Rd=19u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=0.77m   gmin=206
.PARAM RRf=500m     Rrbond=3m    Rtb=2.6      g2=999m
.PARAM act=23.04

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               10.97m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.89m+limit(dZth,0,1)*703.05u}
Rth2  t1      t2              {23.53m+limit(dZth,0,1)*8.71m}
Rth3  t2      t3              {56.48m+limit(dZth,0,1)*6.36m}
Rth4  t3      t4              {27.12m+limit(dZth,0,1)*64.56m}
Rth5  t4      Tcase           {47.52m+limit(dZth,0,1)*113.13m}
Cth1  Tj      0               200.567u
Cth2  t1      0               854.945u
Cth3  t2      0               3.244m
Cth4  t3      0               16.994m
Cth5  t4      0               21.802m
Cth6  Tcase   0               100m

.ENDS

**********

.SUBCKT IIPC25S4N04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=0p        Rg=1.7       Rd=0u        Rm=0p
.PARAM Inn=100      Unn=10       Rmax=0.98m   gmin=225
.PARAM RRf=0m       Rrbond=0p    Rtb=0p       g2=0p
.PARAM act=23

* .FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  drain g source Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                                 Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
* Rsb   source s1    10
* Rga   gate   g1    10
* Rdb   drain  d2    10

* G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
* Cthb  Tb      0               0p
* Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.22m+limit(dZth,0,1)*444.69u}
Rth2  t1      t2              {15.64m+limit(dZth,0,1)*5.79m}
Rth3  t2      t3              {62.65m+limit(dZth,0,1)*18.89m}
Rth4  t3      t4              {76.97m+limit(dZth,0,1)*38.41m}
Rth5  t4      Tcase           {186.78m+limit(dZth,0,1)*93.21m}
Cth1  Tj      0               200.132u
Cth2  t1      0               853.122u
Cth3  t2      0               5.284m
Cth4  t3      0               3.91m
Cth5  t4      0               120.156m
* Cth6  Tcase   0               0m

.ENDS

**********

.SUBCKT IIPC31S4N04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=0p        Rg=1.7       Rd=0u        Rm=0p
.PARAM Inn=80       Unn=10       Rmax=0.44m   gmin=217
.PARAM RRf=0m       Rrbond=0p    Rtb=0p       g2=0p
.PARAM act=26.718

* .FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  drain g source Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                                 Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
* Rsb   source s1    10
* Rga   gate   g1    10
* Rdb   drain  d2    10

* G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
* Cthb  Tb      0               0p
* Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.07m+limit(dZth,0,1)*402.61u}
Rth2  t1      t2              {13.86m+limit(dZth,0,1)*5.13m}
Rth3  t2      t3              {52.96m+limit(dZth,0,1)*16.09m}
Rth4  t3      t4              {68.09m+limit(dZth,0,1)*46.11m}
Rth5  t4      Tcase           {176.65m+limit(dZth,0,1)*119.63m}
Cth1  Tj      0               226.236u
Cth2  t1      0               962.458u
Cth3  t2      0               6.262m
Cth4  t3      0               4.42m
Cth5  t4      0               131.995m
* Cth6  Tcase   0               

.ENDS

**********

.SUBCKT IPB240N04S4_R9 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=267u      Rg=1.7       Rd=20u       Rm=50u
.PARAM Inn=240      Unn=10       Rmax=0.87m   gmin=294
.PARAM RRf=329m     Rrbond=3m    Rtb=2.6      g2=646m
.PARAM act=23

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               14.61m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.22m+limit(dZth,0,1)*444.69u}
Rth2  t1      t2              {15.64m+limit(dZth,0,1)*5.79m}
Rth3  t2      t3              {62.65m+limit(dZth,0,1)*18.89m}
Rth4  t3      t4              {76.97m+limit(dZth,0,1)*38.41m}
Rth5  t4      Tcase           {186.78m+limit(dZth,0,1)*93.21m}
Cth1  Tj      0               200.132u
Cth2  t1      0               853.122u
Cth3  t2      0               5.284m
Cth4  t3      0               3.91m
Cth5  t4      0               120.156m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB240N04S4_1R0 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=267u      Rg=1.4       Rd=20u       Rm=50u
.PARAM Inn=240      Unn=10       Rmax=1.0m    gmin=263
.PARAM RRf=331m     Rrbond=3m    Rtb=2.6      g2=646m
.PARAM act=17.76

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               14.61m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.64m+limit(dZth,0,1)*612.5u}
Rth2  t1      t2              {21.04m+limit(dZth,0,1)*7.79m}
Rth3  t2      t3              {82.04m+limit(dZth,0,1)*24.14m}
Rth4  t3      t4              {104.14m+limit(dZth,0,1)*63.36m}
Rth5  t4      Tcase           {214.64m+limit(dZth,0,1)*130.59m}
Cth1  Tj      0               147.924u
Cth2  t1      0               634.057u
Cth3  t2      0               4.016m
Cth4  t3      0               2.89m
Cth5  t4      0               97.108m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB180N04S4L_H0 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=333u      Rg=1.5       Rd=20u       Rm=66u
.PARAM Inn=100      Unn=10       Rmax=1.1m    gmin=176
.PARAM RRf=382m     Rrbond=5m    Rtb=3.6      g2=647m
.PARAM act=18.06

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.75m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.55m+limit(dZth,0,1)*576.3u}
Rth2  t1      t2              {19.9m+limit(dZth,0,1)*7.36m}
Rth3  t2      t3              {78.57m+limit(dZth,0,1)*24.05m}
Rth4  t3      t4              {98.36m+limit(dZth,0,1)*51.39m}
Rth5  t4      Tcase           {209.04m+limit(dZth,0,1)*109.21m}
Cth1  Tj      0               156.625u
Cth2  t1      0               670.612u
Cth3  t2      0               4.227m
Cth4  t3      0               3.06m
Cth5  t4      0               100.912m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB160N04S4L_H1 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=434u      Rg=1.3       Rd=20u       Rm=137u
.PARAM Inn=100      Unn=10       Rmax=1.6m    gmin=137
.PARAM RRf=412m     Rrbond=7m    Rtb=4.2      g2=680m
.PARAM act=11.03

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               11.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.54m+limit(dZth,0,1)*939.88u}
Rth2  t1      t2              {32.21m+limit(dZth,0,1)*11.93m}
Rth3  t2      t3              {130.63m+limit(dZth,0,1)*39.52m}
Rth4  t3      t4              {160.95m+limit(dZth,0,1)*98.01m}
Rth5  t4      Tcase           {263.08m+limit(dZth,0,1)*160.19m}
Cth1  Tj      0               95.715u
Cth2  t1      0               414.2u
Cth3  t2      0               2.536m
Cth4  t3      0               1.87m
Cth5  t4      0               74.248m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB180N04S4L_01 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=335u      Rg=1.6       Rd=20u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=1.3m    gmin=158
.PARAM RRf=382m     Rrbond=5m    Rtb=3.6      g2=647m
.PARAM act=14.14

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.75m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2m+limit(dZth,0,1)*734.81u}
Rth2  t1      t2              {25.45m+limit(dZth,0,1)*9.42m}
Rth3  t2      t3              {103.99m+limit(dZth,0,1)*30.71m}
Rth4  t3      t4              {126.46m+limit(dZth,0,1)*93.19m}
Rth5  t4      Tcase           {234.92m+limit(dZth,0,1)*173.12m}
Cth1  Tj      0               121.819u
Cth2  t1      0               524.258u
Cth3  t2      0               3.17m
Cth4  t3      0               2.38m
Cth5  t4      0               85.718m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB120N04S4L_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=50u       Rm=126u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=130
.PARAM RRf=319m     Rrbond=10m   Rtb=4.8      g2=710m
.PARAM act=10.78

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               7.32m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2.79m+limit(dZth,0,1)*1.04m}
Rth2  t1      t2              {35.35m+limit(dZth,0,1)*13.08m}
Rth3  t2      t3              {130.6m+limit(dZth,0,1)*39.49m}
Rth4  t3      t4              {177.04m+limit(dZth,0,1)*107.82m}
Rth5  t4      Tcase           {275.2m+limit(dZth,0,1)*167.59m}
Cth1  Tj      0               87.014u
Cth2  t1      0               377.439u
Cth3  t2      0               2.536m
Cth4  t3      0               1.7m
Cth5  t4      0               70.376m
Cth6  Tcase   0               190m

.ENDS

******

.SUBCKT IIPC20S4N04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=0p        Rg=1.7       Rd=0u        Rm=0p
.PARAM Inn=100      Unn=10       Rmax=1.1m    gmin=199
.PARAM RRf=0m       Rrbond=0p    Rtb=0p       g2=0p
.PARAM act=18.06

* .FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  drain g source Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
* Rsb   source s1    10
* Rga   gate   g1    10
* Rdb   drain  d2    10

* G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
* Cthb  Tb      0               0p
* Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.55m+limit(dZth,0,1)*576.3u}
Rth2  t1      t2              {19.9m+limit(dZth,0,1)*7.36m}
Rth3  t2      t3              {78.57m+limit(dZth,0,1)*24.05m}
Rth4  t3      t4              {98.36m+limit(dZth,0,1)*51.39m}
Rth5  t4      Tcase           {209.04m+limit(dZth,0,1)*109.21m}
Cth1  Tj      0               156.625u
Cth2  t1      0               670.612u
Cth3  t2      0               4.227m
Cth4  t3      0               3.06m
Cth5  t4      0               100.912m
* Cth6  Tcase   0               0m

.ENDS

**********

.SUBCKT IPC100N04S4_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=918u      Rg=1.7       Rd=50u       Rm=315u
.PARAM Inn=100      Unn=10       Rmax=2.4m    gmin=74

.PARAM act=8.22



X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10




Rth1  Tj      t1              {3.49m+limit(dZth,0,1)*1.3m}
Rth2  t1      t2              {43.92m+limit(dZth,0,1)*16.26m}
Rth3  t2      t3              {159.56m+limit(dZth,0,1)*26.64m}
Rth4  t3      t4              {178.67m+limit(dZth,0,1)*0p}
Rth5  t4      Tcase           {287.58m+limit(dZth,0,1)*0p}
Cth1  Tj      0               69.611u
Cth2  t1      0               303.769u
Cth3  t2      0               1.902m
Cth4  t3      0               1.41m
Cth5  t4      0               34.03m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPC80N04S4_03 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=1.17m     Rg=1.4       Rd=50u       Rm=338u
.PARAM Inn=80       Unn=10       Rmax=3.3m    gmin=56

.PARAM act=5.71



X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10




Rth1  Tj      t1              {5.59m+limit(dZth,0,1)*2.07m}
Rth2  t1      t2              {69.23m+limit(dZth,0,1)*25.63m}
Rth3  t2      t3              {237.08m+limit(dZth,0,1)*35.91m}
Rth4  t3      t4              {285.87m+limit(dZth,0,1)*0p}
Rth5  t4      Tcase           {362.21m+limit(dZth,0,1)*0p}
Cth1  Tj      0               43.507u
Cth2  t1      0               192.72u
Cth3  t2      0               1.268m
Cth4  t3      0               881.095u
Cth5  t4      0               27.097m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPC60N04S4_06 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=1.55m     Rg=0.9       Rd=50u       Rm=586u
.PARAM Inn=60       Unn=10       Rmax=6.0m    gmin=34

.PARAM act=2.66



X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10




Rth1  Tj      t1              {13.97m+limit(dZth,0,1)*5.17m}
Rth2  t1      t2              {166.13m+limit(dZth,0,1)*61.49m}
Rth3  t2      t3              {530.06m+limit(dZth,0,1)*69.88m}
Rth4  t3      t4              {714.67m+limit(dZth,0,1)*0p}
Rth5  t4      Tcase           {497.77m+limit(dZth,0,1)*0p}
Cth1  Tj      0               17.403u
Cth2  t1      0               80.313u
Cth3  t2      0               560.421u
Cth4  t3      0               352.438u
Cth5  t4      0               29.429m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPC60N04S4L_06 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=1.55m     Rg=0.8       Rd=50u       Rm=586u
.PARAM Inn=60       Unn=10       Rmax=5.6m    gmin=50

.PARAM act=2.66



X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10




Rth1  Tj      t1              {13.97m+limit(dZth,0,1)*5.17m}
Rth2  t1      t2              {166.13m+limit(dZth,0,1)*61.49m}
Rth3  t2      t3              {530.06m+limit(dZth,0,1)*69.88m}
Rth4  t3      t4              {714.67m+limit(dZth,0,1)*0p}
Rth5  t4      Tcase           {497.77m+limit(dZth,0,1)*0p}
Cth1  Tj      0               17.403u
Cth2  t1      0               80.313u
Cth3  t2      0               560.421u
Cth4  t3      0               352.438u
Cth5  t4      0               29.429m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IPLU250N04S4_1R7 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=276u      Rg=1.1       Rd=53u       Rm=79u
.PARAM Inn=250      Unn=10       Rmax=1.7m    gmin=190.72
.PARAM RRf=500m     Rrbond=6m    Rtb=3.8      g2=999m
.PARAM act=7.911

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               10.14m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.89m+limit(dZth,0,1)*703.05u}
Rth2  t1      t2              {23.53m+limit(dZth,0,1)*8.71m}
Rth3  t2      t3              {73.38m+limit(dZth,0,1)*36.5m}
Rth4  t3      t4              {33.73m+limit(dZth,0,1)*238.3m}
Rth5  t4      Tcase           {47.52m+limit(dZth,0,1)*335.73m}
Cth1  Tj      0               200.567u
Cth2  t1      0               854.945u
Cth3  t2      0               3.244m
Cth4  t3      0               16.994m
Cth5  t4      0               21.802m
Cth6  Tcase   0               100m

.ENDS

**********

.SUBCKT IPLU300N04S4_1R1 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=205u      Rg=1.2       Rd=35u       Rm=45u
.PARAM Inn=300      Unn=10       Rmax=1.1m    gmin=259.06
.PARAM RRf=500m     Rrbond=4m    Rtb=3        g2=999m
.PARAM act=12.142

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               12.68m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {1.89m+limit(dZth,0,1)*703.05u}
Rth2  t1      t2              {23.53m+limit(dZth,0,1)*8.71m}
Rth3  t2      t3              {64.41m+limit(dZth,0,1)*20.51m}
Rth4  t3      t4              {27.12m+limit(dZth,0,1)*111.04m}
Rth5  t4      Tcase           {47.52m+limit(dZth,0,1)*194.57m}
Cth1  Tj      0               200.567u
Cth2  t1      0               854.945u
Cth3  t2      0               3.244m
Cth4  t3      0               16.994m
Cth5  t4      0               21.802m
Cth6  Tcase   0               100m

.ENDS

**********

.SUBCKT IPD100N04S4L_02 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=634u      Rg=1.6       Rd=50u       Rm=183u
.PARAM Inn=100      Unn=10       Rmax=1.9m    gmin=83
.PARAM RRf=353m     Rrbond=8m    Rtb=4.5      g2=771m
.PARAM act=9.48

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Gs)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.02m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {3.11m+limit(dZth,0,1)*1.14m}
Rth2  t1      t2              {39.17m+limit(dZth,0,1)*14.5m}
Rth3  t2      t3              {155.56m+limit(dZth,0,1)*45.31m}
Rth4  t3      t4              {158.82m+limit(dZth,0,1)*115.9m}
Rth5  t4      Tcase           {269.68m+limit(dZth,0,1)*196.81m}
Cth1  Tj      0               78.312u
Cth2  t1      0               340.632u
Cth3  t2      0               2.113m
Cth4  t3      0               1.586m
Cth5  t4      0               36.811m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IAUW161N04S4 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=72u       Rg=1.7       Rd=0u        Rm=72u
.PARAM Inn=180      Unn=10       Rmax=1.0m    gmin=148
.PARAM RRf=0m       Rrbond=0p    Rtb=0p       g2=0p
.PARAM act=14.07

* .FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  drain g source Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                        Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
* Rsb   source s1    10
* Rga   gate   g1    10
* Rdb   drain  d2    10

* G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
* Cthb  Tb      0               0p
* Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2m+limit(dZth,0,1)*734.81u}
Rth2  t1      t2              {25.45m+limit(dZth,0,1)*9.42m}
Rth3  t2      t3              {98.68m+limit(dZth,0,1)*30.91m}
Rth4  t3      t4              {102.1m+limit(dZth,0,1)*107.1m}
Rth5  t4      Tcase           {206.74m+limit(dZth,0,1)*216.86m}
Cth1  Tj      0               121.819u
Cth2  t1      0               524.258u
Cth3  t2      0               3.381m
Cth4  t3      0               2.467m
Cth5  t4      0               54.239m
* Cth6  Tcase   0               0

.ENDS

**********

.SUBCKT IAUW161N04S4L drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=72u       Rg=1.7       Rd=0u        Rm=72u
.PARAM Inn=180      Unn=10       Rmax=0.9m    gmin=228
.PARAM RRf=0m       Rrbond=0p    Rtb=0p       g2=0p
.PARAM act=14.07

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  drain g source Tj S4_40_h_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                        Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
* Rsb   source s1    10
* Rga   gate   g1    10
* Rdb   drain  d2    10

* G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
* Cthb  Tb      0               0p
* Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {2m+limit(dZth,0,1)*734.81u}
Rth2  t1      t2              {25.45m+limit(dZth,0,1)*9.42m}
Rth3  t2      t3              {98.68m+limit(dZth,0,1)*30.91m}
Rth4  t3      t4              {102.1m+limit(dZth,0,1)*107.1m}
Rth5  t4      Tcase           {206.74m+limit(dZth,0,1)*216.86m}
Cth1  Tj      0               121.819u
Cth2  t1      0               524.258u
Cth3  t2      0               3.381m
Cth4  t3      0               2.467m
Cth5  t4      0               54.239m
* Cth6  Tcase   0               0

.ENDS

******

.SUBCKT IPB120N04S4_04 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=661u      Rg=1.3       Rd=50u       Rm=130u
.PARAM Inn=120      Unn=10       Rmax=3.6m    gmin=91
.PARAM RRf=433m     Rrbond=17m   Rtb=6.4      g2=818m
.PARAM act=4.1

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_k_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Gs)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               8.99m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {6.99m+limit(dZth,0,1)*2.58m}
Rth2  t1      t2              {85.82m+limit(dZth,0,1)*31.76m}
Rth3  t2      t3              {320.08m+limit(dZth,0,1)*106.58m}
Rth4  t3      t4              {362.5m+limit(dZth,0,1)*255.19m}
Rth5  t4      Tcase           {427.53m+limit(dZth,0,1)*300.97m}
Cth1  Tj      0               34.806u
Cth2  t1      0               155.476u
Cth3  t2      0               1.057m
Cth4  t3      0               679.94u
Cth5  t4      0               45.919m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB160N04S4_02D drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=353u      Rg=1         Rd=20u       Rm=75u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=76
.PARAM RRf=424m     Rrbond=6m    Rtb=3.8      g2=729m
.PARAM act=7.18

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Gs)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               10.34m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {4.17m+limit(dZth,0,1)*1.55m}
Rth2  t1      t2              {59.49m+limit(dZth,0,1)*22.01m}
Rth3  t2      t3              {31.18m+limit(dZth,0,1)*4.03m}
Rth4  t3      t4              {150.04m+limit(dZth,0,1)*28.89m}
Rth5  t4      Tcase           {292.35m+limit(dZth,0,1)*56.29m}
Cth1  Tj      0               60u
Cth2  t1      0               237.153u
Cth3  t2      0               234u
Cth4  t3      0               2.746m
Cth5  t4      0               67.288m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB100N04S4_02D drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=622u      Rg=1         Rd=50u       Rm=119u
.PARAM Inn=100      Unn=10       Rmax=2.4m    gmin=73
.PARAM RRf=399m     Rrbond=12m   Rtb=5.5      g2=794m
.PARAM act=7.18

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Gs)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               8.34m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {4.17m+limit(dZth,0,1)*1.55m}
Rth2  t1      t2              {59.49m+limit(dZth,0,1)*22.01m}
Rth3  t2      t3              {31.18m+limit(dZth,0,1)*4.03m}
Rth4  t3      t4              {150.04m+limit(dZth,0,1)*28.89m}
Rth5  t4      Tcase           {292.35m+limit(dZth,0,1)*56.29m}
Cth1  Tj      0               60u
Cth2  t1      0               237.153u
Cth3  t2      0               234u
Cth4  t3      0               2.746m
Cth5  t4      0               67.288m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPI100N04S4_03D drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=622u      Rg=1         Rd=350u      Rm=119u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM RRf=399m     Rrbond=12m   Rtb=5.5      g2=794m
.PARAM act=7.18

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Gs)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               8.34m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {4.17m+limit(dZth,0,1)*1.55m}
Rth2  t1      t2              {59.49m+limit(dZth,0,1)*22.01m}
Rth3  t2      t3              {31.18m+limit(dZth,0,1)*4.03m}
Rth4  t3      t4              {150.04m+limit(dZth,0,1)*28.89m}
Rth5  t4      Tcase           {292.35m+limit(dZth,0,1)*56.29m}
Cth1  Tj      0               60u
Cth2  t1      0               237.153u
Cth3  t2      0               234u
Cth4  t3      0               2.746m
Cth5  t4      0               67.288m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPP100N04S4_03D drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dZth=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=622u      Rg=1         Rd=350u      Rm=119u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM RRf=399m     Rrbond=12m   Rtb=5.5      g2=794m
.PARAM act=7.18

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s Tj S4_40_kd_var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Gs)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               8.34m
Rthb  Tb      Tj              {Rtb} 
Rth1  Tj      t1              {4.17m+limit(dZth,0,1)*1.55m}
Rth2  t1      t2              {59.49m+limit(dZth,0,1)*22.01m}
Rth3  t2      t3              {31.18m+limit(dZth,0,1)*4.03m}
Rth4  t3      t4              {150.04m+limit(dZth,0,1)*28.89m}
Rth5  t4      Tcase           {292.35m+limit(dZth,0,1)*56.29m}
Cth1  Tj      0               60u
Cth2  t1      0               237.153u
Cth3  t2      0               234u
Cth4  t3      0               2.746m
Cth5  t4      0               67.288m
Cth6  Tcase   0               220m

.ENDS



********************************************************************************
* Level 1 Models
********************************************************************************

.SUBCKT IPB80N04S4L_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4m      gmin=69
.PARAM act=3.48

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD90N04S4L_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=685u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=90       Unn=10       Rmax=3.8m    gmin=75
.PARAM act=3.48

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI80N04S4L_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.3m    gmin=69
.PARAM act=3.48

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP80N04S4L_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.3m    gmin=69
.PARAM act=3.48

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB45N04S4L_08_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2.5n Ld=1n Lg=4n

.PARAM Rs=1.64m     Rg=1.6       Rd=50u       Rm=468u
.PARAM Inn=45       Unn=10       Rmax=7.6m    gmin=36.17
.PARAM act=1.74

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD50N04S4L_08_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.23m     Rg=1.6       Rd=50u       Rm=468u
.PARAM Inn=50       Unn=10       Rmax=7.3m    gmin=39
.PARAM act=1.74

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPG20N04S4L_11_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=4.19m     Rg=1.2       Rd=50u       Rm=1m
.PARAM Inn=20       Unn=10       Rmax=11.6m   gmin=21
.PARAM act=1.47

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPG20N04S4L_08_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.36m     Rg=0.7       Rd=50u       Rm=636u
.PARAM Inn=20       Unn=10       Rmax=8.3m    gmin=26
.PARAM act=2.26

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPG20N04S4L_07_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.56m     Rg=0.7       Rd=50u       Rm=798u
.PARAM Inn=20       Unn=10       Rmax=7.4m    gmin=29
.PARAM act=2.95

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB180N04S4_00_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=349u      Rg=1.7       Rd=20u       Rm=82u
.PARAM Inn=100      Unn=10       Rmax=0.98m   gmin=194
.PARAM act=23

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB180N04S4_H0_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=333u      Rg=1.7       Rd=20u       Rm=66u
.PARAM Inn=100      Unn=10       Rmax=1.1m    gmin=176
.PARAM act=18.06

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB180N04S4_01_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=335u      Rg=1.7       Rd=20u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=1.3m    gmin=157
.PARAM act=14.1

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB120N04S4_01_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=583u      Rg=1.7       Rd=50u       Rm=114u
.PARAM Inn=100      Unn=10       Rmax=1.5m    gmin=146
.PARAM act=14.1

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB160N04S4_H1_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=434u      Rg=1.7       Rd=20u       Rm=137u
.PARAM Inn=100      Unn=10       Rmax=1.6m    gmin=137
.PARAM act=11.03

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB120N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=50u       Rm=126u
.PARAM Inn=100      Unn=10       Rmax=1.8m    gmin=130
.PARAM act=10.78

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB90N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=845u      Rg=1.6       Rd=50u       Rm=200u
.PARAM Inn=90       Unn=10       Rmax=2.1m    gmin=76
.PARAM act=9.47

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD90N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=879u      Rg=1.6       Rd=50u       Rm=400u
.PARAM Inn=90       Unn=10       Rmax=2.5m    gmin=76
.PARAM act=9.47

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD100N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=585u      Rg=1.6       Rd=50u       Rm=158u
.PARAM Inn=100      Unn=10       Rmax=2m      gmin=83
.PARAM act=9.47

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB100N04S4_H2_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=690u      Rg=1.6       Rd=50u       Rm=152u
.PARAM Inn=100      Unn=10       Rmax=2.4m    gmin=73
.PARAM act=7.25

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB80N04S4_03_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=950u      Rg=1.6       Rd=50u       Rm=253u
.PARAM Inn=80       Unn=10       Rmax=3.3m    gmin=54.9
.PARAM act=5.29

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD90N04S4_03_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=732u      Rg=1.6       Rd=50u       Rm=253u
.PARAM Inn=90       Unn=10       Rmax=3.2m    gmin=59.91
.PARAM act=5.29

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB80N04S4_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.2m    gmin=46
.PARAM act=3.48

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD90N04S4_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=685u      Rg=1.6       Rd=50u       Rm=206u
.PARAM Inn=90       Unn=10       Rmax=4.1m    gmin=49
.PARAM act=3.48

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD90N04S4_05_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=787u      Rg=1.6       Rd=50u       Rm=242u
.PARAM Inn=90       Unn=10       Rmax=5.2m    gmin=46
.PARAM act=2.99

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB70N04S4_06_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=1.22m     Rg=1.6       Rd=50u       Rm=254u
.PARAM Inn=70       Unn=10       Rmax=6.2m    gmin=37
.PARAM act=2.56

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD75N04S4_06_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=892u      Rg=1.6       Rd=50u       Rm=254u
.PARAM Inn=75       Unn=10       Rmax=5.9m    gmin=39
.PARAM act=2.56

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD50N04S4_08_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.23m     Rg=1.6       Rd=50u       Rm=468u
.PARAM Inn=50       Unn=10       Rmax=7.9m    gmin=26
.PARAM act=1.74

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD50N04S4_10_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.37m     Rg=1.6       Rd=50u       Rm=475u
.PARAM Inn=48       Unn=10       Rmax=9.3m    gmin=23.53
.PARAM act=1.47

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI120N04S4_01_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=583u      Rg=1.7       Rd=350u      Rm=114u
.PARAM Inn=100      Unn=10       Rmax=1.9m    gmin=146
.PARAM act=14.1

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP120N04S4_01_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=583u      Rg=1.7       Rd=350u      Rm=114u
.PARAM Inn=100      Unn=10       Rmax=1.9m    gmin=146
.PARAM act=14.1

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI120N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=350u      Rm=126u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=130
.PARAM act=10.78

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP120N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=350u      Rm=126u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=130
.PARAM act=10.78

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI90N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=845u      Rg=1.6       Rd=350u      Rm=200u
.PARAM Inn=90       Unn=10       Rmax=2.5m    gmin=76
.PARAM act=9.47

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP90N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=845u      Rg=1.6       Rd=350u      Rm=200u
.PARAM Inn=90       Unn=10       Rmax=2.5m    gmin=76
.PARAM act=9.47

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI100N04S4_H2_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=690u      Rg=1.6       Rd=350u      Rm=152u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM act=7.25

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP100N04S4_H2_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=690u      Rg=1.6       Rd=350u      Rm=152u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM act=7.25

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI80N04S4_03_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=950u      Rg=1.6       Rd=350u      Rm=253u
.PARAM Inn=80       Unn=10       Rmax=3.7m    gmin=54.9
.PARAM act=5.29

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP80N04S4_03_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=950u      Rg=1.6       Rd=350u      Rm=253u
.PARAM Inn=80       Unn=10       Rmax=3.7m    gmin=54.9
.PARAM act=5.29

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI80N04S4_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.6m    gmin=46
.PARAM act=3.48

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP80N04S4_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=903u      Rg=1.6       Rd=350u      Rm=206u
.PARAM Inn=80       Unn=10       Rmax=4.6m    gmin=46
.PARAM act=3.48

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI70N04S4_06_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.22m     Rg=1.6       Rd=350u      Rm=254u
.PARAM Inn=70       Unn=10       Rmax=6.5m    gmin=37
.PARAM act=2.56

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP70N04S4_06_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.22m     Rg=1.6       Rd=350u      Rm=254u
.PARAM Inn=70       Unn=10       Rmax=6.5m    gmin=37
.PARAM act=2.56

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPG20N04S4_12_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=4.19m     Rg=1.2       Rd=50u       Rm=1m
.PARAM Inn=20       Unn=10       Rmax=12.3m   gmin=14
.PARAM act=1.47

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPG20N04S4_09_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.36m     Rg=0.7       Rd=50u       Rm=636u
.PARAM Inn=20       Unn=10       Rmax=8.7m    gmin=18
.PARAM act=2.26

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPG20N04S4_08_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=3.56m     Rg=0.7       Rd=50u       Rm=798u
.PARAM Inn=20       Unn=10       Rmax=7.7m    gmin=20
.PARAM act=2.95

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD50N04S4L_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.45m     Rg=2.6       Rd=50u       Rm=655u
.PARAM Inn=50       Unn=10       Rmax=4m      gmin=58
.PARAM act=4.47

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD50N04S4L_07_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.15m     Rg=1.9       Rd=50u       Rm=364u
.PARAM Inn=50       Unn=10       Rmax=7.2m    gmin=41
.PARAM act=1.84

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT ITD50N04S4L_07_L1 drain gate1 gate2 source1 source2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 Ls=2n Ld=1n Lg=3n

.PARAM Rs=1.15m     Rg=1.9       Rd=50u       Rm=364u
.PARAM Inn=50       Unn=10       Rmax=7.2m    gmin=41
.PARAM act=1.84

X1  d11 g1 s1 Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth1} dR={dRdson1} dgfs={dgfs1} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC1} Rm={Rm}
X2  d12 g2 s2 Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth2} dR={dRdson2} dgfs={dgfs2} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC2} Rm={Rm}

Rg1    g11     g1    {Rg}   
Lg1    gate1   g11   {Lg*if(dgfs1==99,0,1)}
Gs1    s11     s1    VALUE={V(s11,s1)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa1   s11     s1    1Meg
Ls1    source1 s11   {Ls*if(dgfs1==99,0,1)}
Rda1   d11     d21   {Rd*2}
Ld1    drain   d21   {Ld*2*if(dgfs1==99,0,1)}

Rg2    g12     g2    {Rg}   
Lg2    gate2   g12   {Lg*if(dgfs2==99,0,1)}
Gs2    s12     s2    VALUE={V(s12,s2)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa2   s12     s2    1Meg
Ls2    source2 s12   {Ls*if(dgfs2==99,0,1)}
Rda2   d12     d22   {Rd*2}
Ld2    drain   d22   {Ld*2*if(dgfs2==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT ITD50N04S4L_07_B_L1 drain gate1 gate2 source1 source2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 Ls=2n Ld=1n Lg=3n

X1  drain gate1 source1 IPD50N04S4L_07_L1 PARAMS: dVth={dVth1} dR={dRdson1} dgfs={dgfs1} dC={dC1} Ls={Ls} Ld={Ld*2} Lg={Lg} 
X2  drain gate2 source2 IPD50N04S4L_07_L1 PARAMS: dVth={dVth2} dR={dRdson2} dgfs={dgfs2} dC={dC2} Ls={Ls} Ld={Ld*2} Lg={Lg} 

.ENDS

**********

.SUBCKT IPLU300N04S4_R7_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=206u      Rg=1.7       Rd=19u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=0.76m   gmin=206
.PARAM act=23.05

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPLU300N04S4_R8_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=206u      Rg=1.7       Rd=19u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=0.77m   gmin=206
.PARAM act=23.04

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IIPC25S4N04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=0p        Rg=1.7       Rd=0u        Rm=0p
.PARAM Inn=100      Unn=10       Rmax=0.98m   gmin=225
.PARAM act=23

X1  drain g source Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                                 Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IIPC31S4N04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=0p        Rg=1.7       Rd=0u        Rm=0p
.PARAM Inn=80       Unn=10       Rmax=0.44m   gmin=217
.PARAM act=26.718

X1  drain g source Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                                 Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB240N04S4_R9_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=267u      Rg=1.7       Rd=20u       Rm=50u
.PARAM Inn=240      Unn=10       Rmax=0.87m   gmin=294
.PARAM act=23

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB240N04S4_1R0_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=267u      Rg=1.4       Rd=20u       Rm=50u
.PARAM Inn=240      Unn=10       Rmax=1.0m    gmin=263
.PARAM act=17.76

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB180N04S4L_H0_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=333u      Rg=1.5       Rd=20u       Rm=66u
.PARAM Inn=100      Unn=10       Rmax=1.1m    gmin=176
.PARAM act=18.06

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB160N04S4L_H1_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=434u      Rg=1.3       Rd=20u       Rm=137u
.PARAM Inn=100      Unn=10       Rmax=1.6m    gmin=137
.PARAM act=11.03

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB180N04S4L_01_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=335u      Rg=1.6       Rd=20u       Rm=68u
.PARAM Inn=100      Unn=10       Rmax=1.3m    gmin=158
.PARAM act=14.14

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB120N04S4L_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=595u      Rg=1.8       Rd=50u       Rm=126u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=130
.PARAM act=10.78

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IIPC20S4N04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=0p        Rg=1.7       Rd=0u        Rm=0p
.PARAM Inn=100      Unn=10       Rmax=1.1m    gmin=199
.PARAM act=18.06

X1  drain g source Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                          Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPC100N04S4_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=918u      Rg=1.7       Rd=50u       Rm=315u
.PARAM Inn=100      Unn=10       Rmax=2.4m    gmin=74
.PARAM act=8.22

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPC80N04S4_03_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=1.17m     Rg=1.4       Rd=50u       Rm=338u
.PARAM Inn=80       Unn=10       Rmax=3.3m    gmin=56
.PARAM act=5.71

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPC60N04S4_06_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=1.55m     Rg=0.9       Rd=50u       Rm=586u
.PARAM Inn=60       Unn=10       Rmax=6.0m    gmin=34
.PARAM act=2.66

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPC60N04S4L_06_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=1.55m     Rg=0.8       Rd=50u       Rm=586u
.PARAM Inn=60       Unn=10       Rmax=5.6m    gmin=50
.PARAM act=2.66

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPLU250N04S4_1R7_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=276u      Rg=1.1       Rd=53u       Rm=79u
.PARAM Inn=250      Unn=10       Rmax=1.7m    gmin=190.72
.PARAM act=7.911

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPLU300N04S4_1R1_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=0.5n Lg=4n

.PARAM Rs=205u      Rg=1.2       Rd=35u       Rm=45u
.PARAM Inn=300      Unn=10       Rmax=1.1m    gmin=259.06
.PARAM act=12.142

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPD100N04S4L_02_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=634u      Rg=1.6       Rd=50u       Rm=183u
.PARAM Inn=100      Unn=10       Rmax=1.9m    gmin=83
.PARAM act=9.48

X1  d1 g s Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IAUW161N04S4_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=72u       Rg=1.7       Rd=0u        Rm=72u
.PARAM Inn=180      Unn=10       Rmax=1.0m    gmin=148
.PARAM act=14.07

X1  drain g source Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                        Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IAUW161N04S4L_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=0n Ld=0n Lg=0n

.PARAM Rs=72u       Rg=1.7       Rd=0u        Rm=72u
.PARAM Inn=180      Unn=10       Rmax=0.9m    gmin=228
.PARAM act=14.07

X1  drain g source Tj S4_40_h_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                        Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    gate     g    {Rg}   
* Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
* Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
* Rsa   s1     s    1Meg
* Ls    source s1   {Ls*if(dgfs==99,0,1)}
* Rda   d1     d2   {Rd}
* Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB120N04S4_04_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=661u      Rg=1.3       Rd=50u       Rm=130u
.PARAM Inn=120      Unn=10       Rmax=3.6m    gmin=91
.PARAM act=4.1

X1  d1 g s Tj S4_40_k_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB160N04S4_02D_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=4n

.PARAM Rs=353u      Rg=1         Rd=20u       Rm=75u
.PARAM Inn=100      Unn=10       Rmax=2.1m    gmin=76
.PARAM act=7.18

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPB100N04S4_02D_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=622u      Rg=1         Rd=50u       Rm=119u
.PARAM Inn=100      Unn=10       Rmax=2.4m    gmin=73
.PARAM act=7.18

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPI100N04S4_03D_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=622u      Rg=1         Rd=350u      Rm=119u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM act=7.18

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS

**********

.SUBCKT IPP100N04S4_03D_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=622u      Rg=1         Rd=350u      Rm=119u
.PARAM Inn=100      Unn=10       Rmax=2.7m    gmin=73
.PARAM act=7.18

X1  d1 g s Tj S4_40_kd_var1 PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
+                                         Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w      VALUE={TEMP}
R1    w      0      1u

.ENDS



********************************************************************************
* Level 0 Models
********************************************************************************

.SUBCKT IPB80N04S4L_04_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   903u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 313.2  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.1m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.73n
.MODEL     DGD    D(M=0.6   CJO=0.73n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    3.58n

.ENDS  IPB80N04S4L_04_L0

******

.SUBCKT IPD90N04S4L_04_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   685u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 313.2  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.1m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.73n
.MODEL     DGD    D(M=0.6   CJO=0.73n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    3.58n

.ENDS  IPD90N04S4L_04_L0

******

.SUBCKT IPI80N04S4L_04_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   903u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 313.2  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.4m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.73n
.MODEL     DGD    D(M=0.6   CJO=0.73n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    3.58n

.ENDS  IPI80N04S4L_04_L0

******

.SUBCKT IPP80N04S4L_04_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   903u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 313.2  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.4m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.73n
.MODEL     DGD    D(M=0.6   CJO=0.73n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    3.58n

.ENDS  IPP80N04S4L_04_L0

******

.SUBCKT IPB45N04S4L_08_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   2.5n
Rs      s1    s2   1.64m

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 156.6  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    4.14m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.37n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=13.2p  N=1.1  RS=0.29u  EG=1.12  TT=3n)
Rdiode  d1  21    1.05m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.37n
.MODEL     DGD    D(M=0.6   CJO=0.37n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.79n

.ENDS  IPB45N04S4L_08_L0

******

.SUBCKT IPD50N04S4L_08_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   1.23m

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 156.6  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    4.14m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.37n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=13.2p  N=1.1  RS=0.29u  EG=1.12  TT=3n)
Rdiode  d1  21    1.05m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.37n
.MODEL     DGD    D(M=0.6   CJO=0.37n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.79n

.ENDS  IPD50N04S4L_08_L0

******

.SUBCKT IPG20N04S4L_11_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   4.19m

Rg     g1    g2     1.2
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 132.3  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    4.89m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.19n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=11.2p  N=1.1  RS=0.34u  EG=1.12  TT=3n)
Rdiode  d1  21    1.24m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.31n
.MODEL     DGD    D(M=0.6   CJO=0.31n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.51n

.ENDS  IPG20N04S4L_11_L0

******

.SUBCKT IPG20N04S4L_08_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   3.36m

Rg     g1    g2     0.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 203.4  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    3.2m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.73n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=17.2p  N=1.1  RS=0.22u  EG=1.12  TT=3n)
Rdiode  d1  21    0.81m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.47n
.MODEL     DGD    D(M=0.6   CJO=0.47n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.33n

.ENDS  IPG20N04S4L_08_L0

******

.SUBCKT IPG20N04S4L_07_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   3.56m

Rg     g1    g2     0.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 265.5  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.46m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.2n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=22.4p  N=1.1  RS=0.17u  EG=1.12  TT=3n)
Rdiode  d1  21    0.62m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.62n
.MODEL     DGD    D(M=0.6   CJO=0.62n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    3.04n

.ENDS  IPG20N04S4L_07_L0

******

.SUBCKT IPB180N04S4_00_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   349u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 1173  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.29m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=15n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=174.8p  N=1.1  RS=0.02u  EG=1.12  TT=3n)
Rdiode  d1  21    0.08m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   3.22n
.MODEL     DGD    D(M=0.6   CJO=3.22n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    17.48n

.ENDS  IPB180N04S4_00_L0

******

.SUBCKT IPB180N04S4_H0_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   333u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 921.1  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.36m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=11.9n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=137.3p  N=1.1  RS=0.03u  EG=1.12  TT=3n)
Rdiode  d1  21    0.1m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.53n
.MODEL     DGD    D(M=0.6   CJO=2.53n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    13.73n

.ENDS  IPB180N04S4_H0_L0

******

.SUBCKT IPB180N04S4_01_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   335u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 719.1  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.46m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=9.4n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=107.2p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  d1  21    0.13m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.97n
.MODEL     DGD    D(M=0.6   CJO=1.97n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    10.72n

.ENDS  IPB180N04S4_01_L0

******

.SUBCKT IPB120N04S4_01_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   583u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 719.1  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.49m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=9.4n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=107.2p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  d1  21    0.13m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.97n
.MODEL     DGD    D(M=0.6   CJO=1.97n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    10.72n

.ENDS  IPB120N04S4_01_L0

******

.SUBCKT IPB160N04S4_H1_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   434u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 562.5  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.58m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=7.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=83.8p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.17m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.54n
.MODEL     DGD    D(M=0.6   CJO=1.54n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    8.38n

.ENDS  IPB160N04S4_H1_L0

******

.SUBCKT IPB120N04S4_02_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   595u

Rg     g1    g2     1.8
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 549.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.62m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=7.29n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=81.9p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.17m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.51n
.MODEL     DGD    D(M=0.6   CJO=1.51n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    8.19n

.ENDS  IPB120N04S4_02_L0

******

.SUBCKT IPB90N04S4_02_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   845u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 483  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.7m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=6.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=72p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.19m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.33n
.MODEL     DGD    D(M=0.6   CJO=1.33n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    7.2n

.ENDS  IPB90N04S4_02_L0

******

.SUBCKT IPD90N04S4_02_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   879u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 483  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.7m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=6.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=72p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.19m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.33n
.MODEL     DGD    D(M=0.6   CJO=1.33n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    7.2n

.ENDS  IPD90N04S4_02_L0

******

.SUBCKT IPD100N04S4_02_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   585u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 483  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.7m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=6.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=72p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.19m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.33n
.MODEL     DGD    D(M=0.6   CJO=1.33n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    7.2n

.ENDS  IPD100N04S4_02_L0

******

.SUBCKT IPB100N04S4_H2_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   690u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 369.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.9m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=5.02n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=55.1p  N=1.1  RS=0.07u  EG=1.12  TT=3n)
Rdiode  d1  21    0.25m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.02n
.MODEL     DGD    D(M=0.6   CJO=1.02n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.51n

.ENDS  IPB100N04S4_H2_L0

******

.SUBCKT IPB80N04S4_03_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   950u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 269.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.21m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=3.75n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=40.2p  N=1.1  RS=0.09u  EG=1.12  TT=3n)
Rdiode  d1  21    0.34m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.74n
.MODEL     DGD    D(M=0.6   CJO=0.74n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    4.02n

.ENDS  IPB80N04S4_03_L0

******

.SUBCKT IPD90N04S4_03_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   732u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 269.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.21m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=3.75n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=40.2p  N=1.1  RS=0.09u  EG=1.12  TT=3n)
Rdiode  d1  21    0.34m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.74n
.MODEL     DGD    D(M=0.6   CJO=0.74n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    4.02n

.ENDS  IPD90N04S4_03_L0

******

.SUBCKT IPB80N04S4_04_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   903u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 177.5  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.82m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.49n
.MODEL     DGD    D(M=0.6   CJO=0.49n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.64n

.ENDS  IPB80N04S4_04_L0

******

.SUBCKT IPD90N04S4_04_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   685u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 177.5  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.82m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.49n
.MODEL     DGD    D(M=0.6   CJO=0.49n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.64n

.ENDS  IPD90N04S4_04_L0

******

.SUBCKT IPD90N04S4_05_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   787u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 152.5  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.11m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.23n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=22.7p  N=1.1  RS=0.17u  EG=1.12  TT=3n)
Rdiode  d1  21    0.61m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.42n
.MODEL     DGD    D(M=0.6   CJO=0.42n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.27n

.ENDS  IPD90N04S4_05_L0

******

.SUBCKT IPB70N04S4_06_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   1.22m

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 130.6  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.45m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.94n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=19.5p  N=1.1  RS=0.2u  EG=1.12  TT=3n)
Rdiode  d1  21    0.71m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.36n
.MODEL     DGD    D(M=0.6   CJO=0.36n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.95n

.ENDS  IPB70N04S4_06_L0

******

.SUBCKT IPD75N04S4_06_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   892u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 130.6  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.45m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.94n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=19.5p  N=1.1  RS=0.2u  EG=1.12  TT=3n)
Rdiode  d1  21    0.71m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.36n
.MODEL     DGD    D(M=0.6   CJO=0.36n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.95n

.ENDS  IPD75N04S4_06_L0

******

.SUBCKT IPD50N04S4_08_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   1.23m

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 88.7  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    3.58m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.37n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=13.2p  N=1.1  RS=0.29u  EG=1.12  TT=3n)
Rdiode  d1  21    1.05m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.24n
.MODEL     DGD    D(M=0.6   CJO=0.24n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.32n

.ENDS  IPD50N04S4_08_L0

******

.SUBCKT IPD50N04S4_10_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   1.37m

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 75  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    4.23m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.19n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=11.2p  N=1.1  RS=0.34u  EG=1.12  TT=3n)
Rdiode  d1  21    1.24m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.21n
.MODEL     DGD    D(M=0.6   CJO=0.21n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.12n

.ENDS  IPD50N04S4_10_L0

******

.SUBCKT IPI120N04S4_01_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   583u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 719.1  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.79m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=9.4n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=107.2p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  d1  21    0.13m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.97n
.MODEL     DGD    D(M=0.6   CJO=1.97n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    10.72n

.ENDS  IPI120N04S4_01_L0

******

.SUBCKT IPP120N04S4_01_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   583u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 719.1  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.79m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=9.4n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=107.2p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  d1  21    0.13m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.97n
.MODEL     DGD    D(M=0.6   CJO=1.97n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    10.72n

.ENDS  IPP120N04S4_01_L0

******

.SUBCKT IPI120N04S4_02_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   595u

Rg     g1    g2     1.8
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 549.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.92m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=7.29n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=81.9p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.17m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.51n
.MODEL     DGD    D(M=0.6   CJO=1.51n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    8.19n

.ENDS  IPI120N04S4_02_L0

******

.SUBCKT IPP120N04S4_02_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   595u

Rg     g1    g2     1.8
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 549.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.92m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=7.29n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=81.9p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.17m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.51n
.MODEL     DGD    D(M=0.6   CJO=1.51n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    8.19n

.ENDS  IPP120N04S4_02_L0

******

.SUBCKT IPI90N04S4_02_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   845u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 483  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=6.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=72p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.19m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.33n
.MODEL     DGD    D(M=0.6   CJO=1.33n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    7.2n

.ENDS  IPI90N04S4_02_L0

******

.SUBCKT IPP90N04S4_02_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   845u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 483  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=6.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=72p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.19m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.33n
.MODEL     DGD    D(M=0.6   CJO=1.33n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    7.2n

.ENDS  IPP90N04S4_02_L0

******

.SUBCKT IPI100N04S4_H2_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   690u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 369.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.2m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=5.02n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=55.1p  N=1.1  RS=0.07u  EG=1.12  TT=3n)
Rdiode  d1  21    0.25m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.02n
.MODEL     DGD    D(M=0.6   CJO=1.02n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.51n

.ENDS  IPI100N04S4_H2_L0

******

.SUBCKT IPP100N04S4_H2_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   690u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 369.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.2m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=5.02n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=55.1p  N=1.1  RS=0.07u  EG=1.12  TT=3n)
Rdiode  d1  21    0.25m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.02n
.MODEL     DGD    D(M=0.6   CJO=1.02n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.51n

.ENDS  IPP100N04S4_H2_L0

******

.SUBCKT IPI80N04S4_03_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   950u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 269.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.51m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=3.75n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=40.2p  N=1.1  RS=0.09u  EG=1.12  TT=3n)
Rdiode  d1  21    0.34m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.74n
.MODEL     DGD    D(M=0.6   CJO=0.74n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    4.02n

.ENDS  IPI80N04S4_03_L0

******

.SUBCKT IPP80N04S4_03_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   950u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 269.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.51m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=3.75n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=40.2p  N=1.1  RS=0.09u  EG=1.12  TT=3n)
Rdiode  d1  21    0.34m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.74n
.MODEL     DGD    D(M=0.6   CJO=0.74n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    4.02n

.ENDS  IPP80N04S4_03_L0

******

.SUBCKT IPI80N04S4_04_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   903u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 177.5  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.12m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.49n
.MODEL     DGD    D(M=0.6   CJO=0.49n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.64n

.ENDS  IPI80N04S4_04_L0

******

.SUBCKT IPP80N04S4_04_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   903u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 177.5  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.12m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.55n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.4p  N=1.1  RS=0.14u  EG=1.12  TT=3n)
Rdiode  d1  21    0.52m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.49n
.MODEL     DGD    D(M=0.6   CJO=0.49n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.64n

.ENDS  IPP80N04S4_04_L0

******

.SUBCKT IPI70N04S4_06_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   1.22m

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 130.6  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.75m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.94n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=19.5p  N=1.1  RS=0.2u  EG=1.12  TT=3n)
Rdiode  d1  21    0.71m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.36n
.MODEL     DGD    D(M=0.6   CJO=0.36n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.95n

.ENDS  IPI70N04S4_06_L0

******

.SUBCKT IPP70N04S4_06_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   2n
Rs      s1    s2   1.22m

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 130.6  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.75m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.94n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=19.5p  N=1.1  RS=0.2u  EG=1.12  TT=3n)
Rdiode  d1  21    0.71m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.36n
.MODEL     DGD    D(M=0.6   CJO=0.36n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.95n

.ENDS  IPP70N04S4_06_L0

******

.SUBCKT IPG20N04S4_12_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   4.19m

Rg     g1    g2     1.2
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 75  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    4.23m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.19n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=11.2p  N=1.1  RS=0.34u  EG=1.12  TT=3n)
Rdiode  d1  21    1.24m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.21n
.MODEL     DGD    D(M=0.6   CJO=0.21n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.12n

.ENDS  IPG20N04S4_12_L0

******

.SUBCKT IPG20N04S4_09_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   3.36m

Rg     g1    g2     0.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 115.3  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.77m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.73n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=17.2p  N=1.1  RS=0.22u  EG=1.12  TT=3n)
Rdiode  d1  21    0.81m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.32n
.MODEL     DGD    D(M=0.6   CJO=0.32n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.72n

.ENDS  IPG20N04S4_09_L0

******

.SUBCKT IPG20N04S4_08_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   3.56m

Rg     g1    g2     0.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 150.5  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.13m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.2n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=22.4p  N=1.1  RS=0.17u  EG=1.12  TT=3n)
Rdiode  d1  21    0.62m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.41n
.MODEL     DGD    D(M=0.6   CJO=0.41n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.24n

.ENDS  IPG20N04S4_08_L0

******

.SUBCKT IPD50N04S4L_04_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   1.45m

Rg     g1    g2     2.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 402.3  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.64m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=3.21n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=34p  N=1.1  RS=0.11u  EG=1.12  TT=3n)
Rdiode  d1  21    0.41m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.94n
.MODEL     DGD    D(M=0.6   CJO=0.94n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    4.6n

.ENDS  IPD50N04S4L_04_L0

******

.SUBCKT IPD50N04S4L_07_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   1.15m

Rg     g1    g2     1.9
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 165.6  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    3.92m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=1.44n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=14p  N=1.1  RS=0.27u  EG=1.12  TT=3n)
Rdiode  d1  21    0.99m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.39n
.MODEL     DGD    D(M=0.6   CJO=0.39n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.9n

.ENDS  IPD50N04S4L_07_L0

**********

.SUBCKT ITD50N04S4L_07_L0  drain  gate1 gate2  source1 source2

Lg1     gate1  g11    3n
Ld1     drain  d11    {1n*2}
Ls1     source1 s11   2n
Rs1      s11    s21   1.15m

Rg1     g11    g21     1.9
M11      d21    g21    s21    s21    DMOS1    L=1u   W=1u
.MODEL DMOS1 NMOS ( KP= 165.6  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd1     d11    d21    3.92m TC=7m

Dbd1     s21    d21    Dbt1
.MODEL     Dbt1    D(BV=45   M=0.3  CJO=1.44n  VJ=0.9V)
Dbody1   s21   211    DBODY1
.MODEL DBODY1  D(IS=14p  N=1.1  RS=0.27u  EG=1.12  TT=3n)
Rdiode1  d11  211    0.99m TC=7m

.MODEL   sw1    NMOS(VTO=0  KP=10   LEVEL=1)
Maux1      g21   c1    a1    a1   sw1
Maux21     b1    d1    g21    g21   sw1
Eaux1      c1    a1    d21    g21   1
Eaux21     d1    g21   d21    g21   -1
Cox1       b1    d21   0.39n
.MODEL     DGD1    D(M=0.6   CJO=0.39n   VJ=0.5)
Rpar1      b1    d21   1Meg
Dgd1       a1    d21   DGD1
Rpar21     d21   a1    10Meg
Cgs1     g21    s21    1.9n



Lg2     gate2  g12    3n
Ld2     drain  d12    {1n*2}
Ls2     source2 s12   2n
Rs2      s12    s22   1.15m

Rg2     g12    g22     1.9
M12      d22    g22    s22    s22    DMOS2    L=1u   W=1u
.MODEL DMOS2 NMOS ( KP= 165.6  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd2     d12    d22    3.92m TC=7m

Dbd2     s22    d22    Dbt2
.MODEL     Dbt2    D(BV=45   M=0.3  CJO=1.44n  VJ=0.9V)
Dbody2   s22   212    DBODY2
.MODEL DBODY2  D(IS=14p  N=1.1  RS=0.27u  EG=1.12  TT=3n)
Rdiode2  d12  212    0.99m TC=7m

.MODEL   sw2    NMOS(VTO=0  KP=10   LEVEL=1)
Maux2      g22   c2    a2    a2   sw2
Maux22     b2    d2    g22    g22   sw2
Eaux2      c2    a2    d22    g22   1
Eaux22     d2    g22   d22    g22   -1
Cox2       b2    d22   0.39n
.MODEL     DGD2    D(M=0.6   CJO=0.39n   VJ=0.5)
Rpar2      b2    d22   1Meg
Dgd2       a2    d22   DGD2
Rpar22     d22   a2    10Meg
Cgs2     g22    s22    1.9n

.ENDS  ITD50N04S4L_07_L0

**********

.SUBCKT ITD50N04S4L_07_B_L0 drain gate1 gate2 source1 source2 

X1  drain gate1 source1 IPD50N04S4L_07_L0 
X2  drain gate2 source2 IPD50N04S4L_07_L0 

.ENDS

**********

.SUBCKT IPLU300N04S4_R7_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    0.5n
Ls     source s1   1n
Rs      s1    s2   206u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 968.1  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.14m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=15.03n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=175.2p  N=1.1  RS=0.02u  EG=1.12  TT=3n)
Rdiode  d1  21    0.08m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   3.23n
.MODEL     DGD    D(M=0.6   CJO=3.23n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    17.52n

.ENDS  IPLU300N04S4_R7_L0

**********

.SUBCKT IPLU300N04S4_R8_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    0.5n
Ls     source s1   1n
Rs      s1    s2   206u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 967.7  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.14m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=15.02n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=175.1p  N=1.1  RS=0.02u  EG=1.12  TT=3n)
Rdiode  d1  21    0.08m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   3.23n
.MODEL     DGD    D(M=0.6   CJO=3.23n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    17.51n

.ENDS  IPLU300N04S4_R8_L0

******

.SUBCKT IIPC25S4N04_L0  drain  gate  source

* Lg     gate  g1    0n
* Ld     drain d1    0n
* Ls     source s1   0n
* Rs      s1    s2   0p

Rg     gate    g2     1.7
M1      d2    g2    source    source    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 1173  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     drain    d2    0.27m TC=6m

Dbd     source    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=15n  VJ=0.9V)
Dbody   source   21    DBODY
.MODEL DBODY  D(IS=174.8p  N=1.1  RS=0.02u  EG=1.12  TT=3n)
Rdiode  drain  21    0.08m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   3.22n
.MODEL     DGD    D(M=0.6   CJO=3.22n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    source    17.48n

.ENDS  IIPC25S4N04_L0

**********

.SUBCKT IIPC31S4N04_L0  drain  gate  source

* Lg     gate  g1    0n
* Ld     drain d1    0n
* Ls     source s1   0n
* Rs      s1    s2   0p

Rg     gate    g2     1.7
M1      d2    g2    source    source    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1362.6  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     drain    d2    0.23m TC=6m

Dbd     source    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=17.32n  VJ=0.9V)
Dbody   source   21    DBODY
.MODEL DBODY  D(IS=203.1p  N=1.1  RS=0.02u  EG=1.12  TT=3n)
Rdiode  drain  21    0.07m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   3.74n
.MODEL     DGD    D(M=0.6   CJO=3.74n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    source    20.31n

.ENDS  IIPC31S4N04_L0

******

.SUBCKT IPB240N04S4_R9_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   267u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 1173  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.29m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=15n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=174.8p  N=1.1  RS=0.02u  EG=1.12  TT=3n)
Rdiode  d1  21    0.08m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   3.22n
.MODEL     DGD    D(M=0.6   CJO=3.22n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    17.48n

.ENDS  IPB240N04S4_R9_L0

******

.SUBCKT IPB240N04S4_1R0_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   267u

Rg     g1    g2     1.4
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 905.8  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.37m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=11.71n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=135p  N=1.1  RS=0.03u  EG=1.12  TT=3n)
Rdiode  d1  21    0.1m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.49n
.MODEL     DGD    D(M=0.6   CJO=2.49n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    13.5n

.ENDS  IPB240N04S4_1R0_L0

******

.SUBCKT IPB180N04S4L_H0_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   333u

Rg     g1    g2     1.5
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 1625.4  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.41m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=11.9n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=137.3p  N=1.1  RS=0.03u  EG=1.12  TT=3n)
Rdiode  d1  21    0.1m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   3.79n
.MODEL     DGD    D(M=0.6   CJO=3.79n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    18.6n

.ENDS  IPB180N04S4L_H0_L0

******

.SUBCKT IPB160N04S4L_H1_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   434u

Rg     g1    g2     1.3
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 992.7  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.67m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=7.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=83.8p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.17m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.32n
.MODEL     DGD    D(M=0.6   CJO=2.32n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    11.36n

.ENDS  IPB160N04S4L_H1_L0

******

.SUBCKT IPB180N04S4L_01_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   335u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 1272.6  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.52m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=9.42n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=107.5p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  d1  21    0.13m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.97n
.MODEL     DGD    D(M=0.6   CJO=2.97n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    14.56n

.ENDS  IPB180N04S4L_01_L0

******

.SUBCKT IPB120N04S4L_02_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   595u

Rg     g1    g2     1.8
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 970.2  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.71m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=7.29n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=81.9p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.17m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.26n
.MODEL     DGD    D(M=0.6   CJO=2.26n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    11.1n

.ENDS  IPB120N04S4L_02_L0

**********

.SUBCKT IIPC20S4N04_L0  drain  gate  source

* Lg     gate  g1    0n
* Ld     drain d1    0n
* Ls     source s1   0n
* Rs      s1    s2   0p

Rg     gate    g2     1.7
M1      d2    g2    source    source    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 921.1  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     drain    d2    0.34m TC=6m

Dbd     source    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=11.9n  VJ=0.9V)
Dbody   source   21    DBODY
.MODEL DBODY  D(IS=137.3p  N=1.1  RS=0.03u  EG=1.12  TT=3n)
Rdiode  drain  21    0.1m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.53n
.MODEL     DGD    D(M=0.6   CJO=2.53n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    source    13.73n

.ENDS  IIPC20S4N04_L0

******

.SUBCKT IPC100N04S4_02_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   918u

Rg     g1    g2     1.7
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 419.2  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.8m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=5.65n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=62.5p  N=1.1  RS=0.06u  EG=1.12  TT=3n)
Rdiode  d1  21    0.22m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.15n
.MODEL     DGD    D(M=0.6   CJO=1.15n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    6.25n

.ENDS  IPC100N04S4_02_L0

******

.SUBCKT IPC80N04S4_03_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   1.17m

Rg     g1    g2     1.4
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 291.2  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.13m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=4.02n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=43.4p  N=1.1  RS=0.09u  EG=1.12  TT=3n)
Rdiode  d1  21    0.32m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.6   CJO=0.8n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    4.34n

.ENDS  IPC80N04S4_03_L0

******

.SUBCKT IPC60N04S4_06_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   1.55m

Rg     g1    g2     0.9
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 135.7  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.36m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=20.2p  N=1.1  RS=0.19u  EG=1.12  TT=3n)
Rdiode  d1  21    0.68m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.37n
.MODEL     DGD    D(M=0.6   CJO=0.37n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.02n

.ENDS  IPC60N04S4_06_L0

******

.SUBCKT IPC60N04S4L_06_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1n
Rs      s1    s2   1.55m

Rg     g1    g2     0.8
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 239.4  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    2.73m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=20.2p  N=1.1  RS=0.19u  EG=1.12  TT=3n)
Rdiode  d1  21    0.68m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.56n
.MODEL     DGD    D(M=0.6   CJO=0.56n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.74n

.ENDS  IPC60N04S4L_06_L0

******

.SUBCKT IPLU250N04S4_1R7_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    0.5n
Ls     source s1   1n
Rs      s1    s2   276u

Rg     g1    g2     1.1
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 332.3  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.42m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=5.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=60.1p  N=1.1  RS=0.06u  EG=1.12  TT=3n)
Rdiode  d1  21    0.23m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.11n
.MODEL     DGD    D(M=0.6   CJO=1.11n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    6.01n

.ENDS  IPLU250N04S4_1R7_L0

******

.SUBCKT IPLU300N04S4_1R1_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    0.5n
Ls     source s1   1n
Rs      s1    s2   205u

Rg     g1    g2     1.2
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 510  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.27m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=8.16n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=92.3p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  d1  21    0.15m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.7n
.MODEL     DGD    D(M=0.6   CJO=1.7n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    9.23n

.ENDS  IPLU300N04S4_1R1_L0

******

.SUBCKT IPD100N04S4L_02_L0  drain  gate  source

Lg     gate  g1    3n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   634u

Rg     g1    g2     1.6
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 853.2  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.8m TC=7m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=6.46n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=72p  N=1.1  RS=0.05u  EG=1.12  TT=3n)
Rdiode  d1  21    0.19m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.99n
.MODEL     DGD    D(M=0.6   CJO=1.99n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    9.76n

.ENDS  IPD100N04S4L_02_L0

******

.SUBCKT IAUW161N04S4_L0  drain  gate  source

* Lg     gate  g1    0n
* Ld     drain d1    0n
* Ls     source s1   0n
* Rs      s1    s2   72u

Rg     gate    g2     1.7
M1      d2    g2    source    source    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 717.6  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     drain    d2    0.44m TC=6m

Dbd     source    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=9.38n  VJ=0.9V)
Dbody   source   21    DBODY
.MODEL DBODY  D(IS=106.9p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  drain  21    0.13m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.97n
.MODEL     DGD    D(M=0.6   CJO=1.97n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    10.69n

.ENDS  IAUW161N04S4_L0

******

.SUBCKT IAUW161N04S4L_L0  drain  gate  source

* Lg     gate  g1    0n
* Ld     drain d1    0n
* Ls     source s1   0n
* Rs      s1    s2   72u

Rg     gate    g2     1.7
M1      d2    g2    source    source    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 1266.3  VTO=2.74  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     drain    d2    0.51m TC=7m

Dbd     source    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=9.38n  VJ=0.9V)
Dbody   source   21    DBODY
.MODEL DBODY  D(IS=106.9p  N=1.1  RS=0.04u  EG=1.12  TT=3n)
Rdiode  drain  21    0.13m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.95n
.MODEL     DGD    D(M=0.6   CJO=2.95n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    14.49n

.ENDS  IAUW161N04S4L_L0

**********

.SUBCKT IPB120N04S4_04_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   2n
Rs      s1    s2   661u

Rg     g1    g2     1.3
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 209.1  VTO=4.9  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    1.55m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=2.97n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=31.2p  N=1.1  RS=0.12u  EG=1.12  TT=3n)
Rdiode  d1  21    0.44m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.57n
.MODEL     DGD    D(M=0.6   CJO=0.57n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    3.12n

.ENDS  IPB120N04S4_04_L0

******

.SUBCKT IPB160N04S4_02D_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.5n
Rs      s1    s2   353u

Rg     g1    g2     1
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 301.6  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.42m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=4.98n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=54.6p  N=1.1  RS=0.07u  EG=1.12  TT=3n)
Rdiode  d1  21    0.25m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.01n
.MODEL     DGD    D(M=0.6   CJO=1.01n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.46n

.ENDS  IPB160N04S4_02D_L0

******

.SUBCKT IPB100N04S4_02D_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    1n
Ls     source s1   1.8n
Rs      s1    s2   622u

Rg     g1    g2     1
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 301.6  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.45m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=4.98n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=54.6p  N=1.1  RS=0.07u  EG=1.12  TT=3n)
Rdiode  d1  21    0.25m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.01n
.MODEL     DGD    D(M=0.6   CJO=1.01n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.46n

.ENDS  IPB100N04S4_02D_L0

******

.SUBCKT IPI100N04S4_03D_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   622u

Rg     g1    g2     1
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 301.6  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.75m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=4.98n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=54.6p  N=1.1  RS=0.07u  EG=1.12  TT=3n)
Rdiode  d1  21    0.25m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.01n
.MODEL     DGD    D(M=0.6   CJO=1.01n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.46n

.ENDS  IPI100N04S4_03D_L0

******

.SUBCKT IPP100N04S4_03D_L0  drain  gate  source

Lg     gate  g1    4n
Ld     drain d1    2.5n
Ls     source s1   1.8n
Rs      s1    s2   622u

Rg     g1    g2     1
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP= 301.6  VTO=4.3  THETA=0  VMAX=1.5e5  ETA=0.015  LEVEL=3)
Rd     d1    d2    0.75m TC=6m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=45   M=0.3  CJO=4.98n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=54.6p  N=1.1  RS=0.07u  EG=1.12  TT=3n)
Rdiode  d1  21    0.25m TC=7m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.01n
.MODEL     DGD    D(M=0.6   CJO=1.01n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.46n

.ENDS  IPP100N04S4_03D_L0

******
